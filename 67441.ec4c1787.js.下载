"use strict";(self.webpackChunkapp_botstudio_main=self.webpackChunkapp_botstudio_main||[]).push([["67441"],{32382:function(e,t,r){r.d(t,{tw:()=>a,dW:()=>rH,Re:()=>t$,wi:()=>o,z6:()=>s,MK:()=>rN,JG:()=>rj});var n,i,o,s,a,u,l,c,f,d=r("799454"),h=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function p(e){return"function"==typeof e}function v(e){return p(null==e?void 0:e.then)}function y(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var b=y(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function A(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var g=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,n,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=(0,d.__values)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this)}var u=this.initialTeardown;if(p(u))try{u()}catch(e){i=e instanceof b?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=(0,d.__values)(l),f=c.next();!f.done;f=c.next()){var h=f.value;try{k(h)}catch(e){i=null!=i?i:[],e instanceof b?i=(0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__read)(i)),(0,d.__read)(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new b(i)}},e.prototype.add=function(t){var r;if(t&&t!==this){if(this.closed)k(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&A(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&A(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),m=g.EMPTY;function w(e){return e instanceof g||e&&"closed"in e&&p(e.remove)&&p(e.add)&&p(e.unsubscribe)}function k(e){p(e)?e():e.unsubscribe()}var S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},O={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=O.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,d.__spreadArray)([e,t],(0,d.__read)(r))):setTimeout.apply(void 0,(0,d.__spreadArray)([e,t],(0,d.__read)(r)))},clearTimeout:function(e){var t=O.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function x(e){O.setTimeout(function(){var t=S.onUnhandledError;if(t)t(e);else throw e})}function T(){}var P=function(){return j("C",void 0,void 0)}();function E(e){return j("E",void 0,e)}function C(e){return j("N",e,void 0)}function j(e,t,r){return{kind:e,value:t,error:r}}var B=null;function R(e){if(S.useDeprecatedSynchronousErrorHandling){var t=!B;if(t&&(B={errorThrown:!1,error:null}),e(),t){var r=B,n=r.errorThrown,i=r.error;if(B=null,n)throw i}}else e()}function _(e){S.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=e)}var I=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,w(t)&&t.add(r)):r.destination=M,r}return(0,d.__extends)(t,e),t.create=function(e,t,r){return new W(e,t,r)},t.prototype.next=function(e){this.isStopped?F(C(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?F(E(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?F(P,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){!this.closed&&(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(g),N=Function.prototype.bind;function z(e,t){return N.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){L(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){L(e)}else L(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){L(e)}},e}(),W=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return p(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&S.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&z(t.next,o),error:t.error&&z(t.error,o),complete:t.complete&&z(t.complete,o)}):i=t,s.destination=new D(i),s}return(0,d.__extends)(t,e),t}(I);function L(e){S.useDeprecatedSynchronousErrorHandling?_(e):x(e)}function F(e,t){var r=S.onStoppedNotification;r&&O.setTimeout(function(){return r(e,t)})}var M={closed:!0,next:T,error:function e(e){throw e},complete:T},U=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function q(e){return e}function G(e){return 0===e.length?q:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var Z=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this,i=J(e)?e:new W(e,t,r);return R(function(){var e=n,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?n._subscribe(i):n._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=V(t))(function(t,n){var i=new W({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[U]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return G(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=V(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function V(e){var t;return null!==(t=null!=e?e:S.Promise)&&void 0!==t?t:Promise}function Y(e){return e&&p(e.next)&&p(e.error)&&p(e.complete)}function J(e){return e&&e instanceof I||Y(e)&&w(e)}function Q(e){return p(e[U])}function X(e){return Symbol.asyncIterator&&p(null==e?void 0:e[Symbol.asyncIterator])}function H(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var K=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $(e){return p(null==e?void 0:e[K])}function ee(e){return(0,d.__asyncGenerator)(this,arguments,function(){var t,r,n;return(0,d.__generator)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,d.__await)(t.read())];case 3:if(n=(r=i.sent()).value,!r.done)return[3,5];return[4,(0,d.__await)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,d.__await)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function et(e){return p(null==e?void 0:e.getReader)}function er(e){if(e instanceof Z)return e;if(null!=e){if(Q(e))return en(e);if(h(e))return ei(e);if(v(e))return eo(e);if(X(e))return ea(e);if($(e))return es(e);if(et(e))return eu(e)}throw H(e)}function en(e){return new Z(function(t){var r=e[U]();if(p(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")})}function ei(e){return new Z(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function eo(e){return new Z(function(t){e.then(function(e){!t.closed&&(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,x)})}function es(e){return new Z(function(t){var r,n;try{for(var i=(0,d.__values)(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function ea(e){return new Z(function(t){el(e,t).catch(function(e){return t.error(e)})})}function eu(e){return ea(ee(e))}function el(e,t){var r,n,i,o;return(0,d.__awaiter)(this,void 0,void 0,function(){var s;return(0,d.__generator)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=(0,d.__asyncValues)(e),a.label=1;case 1:return[4,r.next()];case 2:if((n=a.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(n&&!n.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ec(e){return p(null==e?void 0:e.lift)}function ef(e){return function(t){if(ec(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function ed(e,t,r,n,i){return new eh(e,t,r,n,i)}var eh=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,d.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(I);function ep(e,t){return ef(function(r,n){var i=0;r.subscribe(ed(n,function(r){n.next(e.call(t,r,i++))}))})}function ev(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function ey(e,t,r,n,i,o,s,a){var u=[],l=0,c=0,f=!1,d=function(){f&&!u.length&&!l&&t.complete()},h=function(e){return l<n?p(e):u.push(e)},p=function(e){o&&t.next(e),l++;var a=!1;er(r(e,c++)).subscribe(ed(t,function(e){null==i||i(e),o?h(e):t.next(e)},function(){a=!0},void 0,function(){if(a)try{l--;for(var e=function(){var e=u.shift();s?ev(t,s,function(){return p(e)}):p(e)};u.length&&l<n;)e();d()}catch(e){t.error(e)}}))};return e.subscribe(ed(t,h,function(){f=!0,d()})),function(){null==a||a()}}function eb(e,t,r){return(void 0===r&&(r=1/0),p(t))?eb(function(r,n){return ep(function(e,i){return t(r,e,n,i)})(er(e(r,n)))},r):("number"==typeof t&&(r=t),ef(function(t,n){return ey(t,n,e,r)}))}var eA=Array.isArray;function eg(e,t){return eA(t)?e.apply(void 0,(0,d.__spreadArray)([],(0,d.__read)(t))):e(t)}function em(e){return ep(function(t){return eg(e,t)})}var ew=["addListener","removeListener"],ek=["addEventListener","removeEventListener"],eS=["on","off"];function eO(e,t,r,n){if(p(r)&&(n=r,r=void 0),n)return eO(e,t,r).pipe(em(n));var i=(0,d.__read)(eE(e)?ek.map(function(n){return function(i){return e[n](t,i,r)}}):eT(e)?ew.map(ex(e,t)):eP(e)?eS.map(ex(e,t)):[],2),o=i[0],s=i[1];if(!o&&h(e))return eb(function(e){return eO(e,t,r)})(er(e));if(!o)throw TypeError("Invalid event target");return new Z(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return o(t),function(){return s(t)}})}function ex(e,t){return function(r){return function(n){return e[r](t,n)}}}function eT(e){return p(e.addListener)&&p(e.removeListener)}function eP(e){return p(e.on)&&p(e.off)}function eE(e){return p(e.addEventListener)&&p(e.removeEventListener)}function eC(e,t){return p(t)?eb(e,t,1):eb(e,1)}var ej=r("707567"),eB=Array.isArray;function eR(e){return 1===e.length&&eB(e[0])?e[0]:e}function e_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=eR(e)).length?er(e[0]):new Z(eI(e))}function eI(e){return function(t){for(var r=[],n=function(n){r.push(er(e[n]).subscribe(ed(t,function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}var eN=new Z(function(e){return e.complete()});function ez(e){return e<=0?function(){return eN}:ef(function(t,r){var n=0;t.subscribe(ed(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}function eD(e,t,r){var n=p(e)||t||r?{next:e,error:t,complete:r}:e;return n?ef(function(e,t){null===(r=n.subscribe)||void 0===r||r.call(n);var r,i=!0;e.subscribe(ed(t,function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)},function(){var e;i=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()},function(e){var r;i=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)},function(){var e,t;i&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)}))}):q}function eW(e){return void 0===e&&(e=1/0),eb(q,e)}function eL(e){return e&&p(e.schedule)}function eF(e){return e[e.length-1]}function eM(e){return eL(eF(e))?e.pop():void 0}function eU(e,t){return"number"==typeof eF(e)?e.pop():t}function eq(e,t){return void 0===t&&(t=0),ef(function(r,n){r.subscribe(ed(n,function(r){return ev(n,e,function(){return n.next(r)},t)},function(){return ev(n,e,function(){return n.complete()},t)},function(r){return ev(n,e,function(){return n.error(r)},t)}))})}function eG(e,t){return void 0===t&&(t=0),ef(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function eZ(e,t){return er(e).pipe(eG(t),eq(t))}function eV(e,t){return er(e).pipe(eG(t),eq(t))}function eY(e,t){return new Z(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),!r.closed&&this.schedule())})})}function eJ(e,t){return new Z(function(r){var n;return ev(r,t,function(){n=e[K](),ev(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return p(null==n?void 0:n.return)&&n.return()}})}function eQ(e,t){if(!e)throw Error("Iterable cannot be null");return new Z(function(r){ev(r,t,function(){var n=e[Symbol.asyncIterator]();ev(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function eX(e,t){return eQ(ee(e),t)}function eH(e,t){if(null!=e){if(Q(e))return eZ(e,t);if(h(e))return eY(e,t);if(v(e))return eV(e,t);if(X(e))return eQ(e,t);if($(e))return eJ(e,t);if(et(e))return eX(e,t)}throw H(e)}function eK(e,t){return t?eH(e,t):er(e)}function e$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=eM(e),n=eU(e,1/0),i=e;return i.length?1===i.length?er(i[0]):eW(n)(eK(i,r)):eN}var e0=y(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),e2=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,d.__extends)(t,e),t.prototype.lift=function(e){var t=new e1(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new e0},t.prototype.next=function(e){var t=this;R(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){!t.currentObservers&&(t.currentObservers=Array.from(t.observers));try{for(var i=(0,d.__values)(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;R(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;R(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?m:(this.currentObservers=null,o.push(e),new g(function(){t.currentObservers=null,A(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new Z;return e.source=this,e},t.create=function(e,t){return new e1(e,t)},t}(Z),e1=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,d.__extends)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:m},t}(e2);function e8(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new e2}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,s=void 0===o||o,a=e.resetOnRefCountZero,u=void 0===a||a;return function(e){var t,n,o,a=0,l=!1,c=!1,f=function(){null==n||n.unsubscribe(),n=void 0},d=function(){f(),t=o=void 0,l=c=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return ef(function(e,p){a++,!c&&!l&&f();var v=o=null!=o?o:r();p.add(function(){0==--a&&!c&&!l&&(n=e4(h,u))}),v.subscribe(p),!t&&a>0&&(t=new W({next:function(e){return v.next(e)},error:function(e){c=!0,f(),n=e4(d,i,e),v.error(e)},complete:function(){l=!0,f(),n=e4(d,s),v.complete()}}),er(e).subscribe(t))})(e)}}function e4(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var i=new W({next:function(){i.unsubscribe(),e()}});return er(t.apply(void 0,(0,d.__spreadArray)([],(0,d.__read)(r)))).subscribe(i)}}function e3(e,t){return ef(function(r,n){var i=0;r.subscribe(ed(n,function(r){return e.call(t,r,i++)&&n.next(r)}))})}var e6=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return(0,d.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(e2),e7=r("489250");function e5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=eM(e),n=eU(e,1/0);return e=eR(e),ef(function(t,i){eW(n)(eK((0,d.__spreadArray)([t],(0,d.__read)(e)),r)).subscribe(i)})}function e9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e5.apply(void 0,(0,d.__spreadArray)([],(0,d.__read)(e)))}function te(e,t){return void 0===t&&(t=!1),ef(function(r,n){var i=0;r.subscribe(ed(n,function(r){var o=e(r,i++);(o||t)&&n.next(r),o||n.complete()}))})}var tt=function(e){function t(t,r){return e.call(this)||this}return(0,d.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(g),tr={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=tr.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,d.__spreadArray)([e,t],(0,d.__read)(r))):setInterval.apply(void 0,(0,d.__spreadArray)([e,t],(0,d.__read)(r)))},clearInterval:function(e){var t=tr.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},tn=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,d.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),tr.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&tr.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,n=t.scheduler,i=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,A(i,this),null!=r&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(tt),ti={now:function(){return(ti.delegate||Date).now()},delegate:void 0},to=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=ti.now,e}(),ts=new(function(e){function t(t,r){void 0===r&&(r=to.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return(0,d.__extends)(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(to))(tn),ta=ts;function tu(e){return e instanceof Date&&!isNaN(e)}function tl(e,t,r){void 0===e&&(e=0),void 0===r&&(r=ta);var n=-1;return null!=t&&(eL(t)?r=t:n=t),new Z(function(t){var i=tu(e)?+e-r.now():e;i<0&&(i=0);var o=0;return r.schedule(function(){!t.closed&&(t.next(o++),0<=n?this.schedule(void 0,n):t.complete())},i)})}function tc(e,t){return void 0===e&&(e=0),void 0===t&&(t=ts),e<0&&(e=0),tl(e,e,t)}var tf=Object.create,td=Object.defineProperty,th=Object.getOwnPropertyDescriptor,tp=Object.getOwnPropertyNames,tv=Object.getPrototypeOf,ty=Object.prototype.hasOwnProperty,tb=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of tp(t))!ty.call(e,i)&&i!==r&&td(e,i,{get:()=>t[i],enumerable:!(n=th(t,i))||n.enumerable});return e},tA=(e,t,r)=>(r=null!=e?tf(tv(e)):{},tb(!t&&e&&e.__esModule?r:td(r,"default",{value:e,enumerable:!0}),e)),tg=((e,t)=>function(){return t||(0,e[tp(e)[0]])((t={exports:{}}).exports,t),t.exports})({"src/utils/libsamplerate/libsamplerate.js"(e,t){!function(r,n){"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.LibSampleRate=n():r.LibSampleRate=n()}(e,()=>(()=>{var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{ConverterType:()=>s,create:()=>c});var r,n,i=1008e3,o=function(){function e(e,t,r,n,o){this.module=e,this._converterType=t,this._nChannels=r,this._inputSampleRate=n,this._outputSampleRate=o,this.ratio=o/n,this.isDestroyed=!1,e.init(r,t,n,o),this.sourceArray=e.sourceArray(i),this.targetArray=e.targetArray(i)}return e.prototype.simple=function(e){return this._resample(this.module.simple,e)},e.prototype.full=function(e,t){return void 0===t&&(t=null),this._resample(this.module.full,e,t)},e.prototype.destroy=function(){!0===this.isDestroyed?console.warn("destroy() has already been called on this instance"):(this.module.destroy(),this.isDestroyed=!0)},Object.defineProperty(e.prototype,"inputSampleRate",{get:function(){return this._inputSampleRate},set:function(e){this._inputSampleRate=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outputSampleRate",{get:function(){return this._outputSampleRate},set:function(e){this._outputSampleRate=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nChannels",{get:function(){return this._nChannels},set:function(e){this._nChannels=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"converterType",{get:function(){return this._converterType},set:function(e){this._converterType=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),e.prototype._chunkAndResample=function(e){for(var t=0,r=[],n=function(e,t,r){for(var n=0,i=[],o=0;o<e.length;o+=t){var s=Math.min(t,e.length-n),a=new r(e.buffer,n*e.BYTES_PER_ELEMENT,s);n+=t,i.push(a)}return i}(e,this.inputSampleRate/10*this.nChannels,Float32Array),i=0;i<n.length;i++){var o=this._resample(this.module.full,n[i]);t+=o.length,r.push(o)}var s=new Float32Array(t),a=0;for(i=0;i<r.length;i++)for(var u=0;u<r[i].length;u++)s[a++]=r[i][u];return s},e.prototype._resample=function(e,t,r){if(void 0===r&&(r=null),this.inputSampleRate===this.outputSampleRate)return t;if(null!==r&&r.length<this.ratio*t.length)throw"dataOut must be at least ceil(srcRatio * dataIn.length) samples long";return Math.max(Math.ceil(t.length*this.ratio),t.length)>i?this._chunkAndResample(t):(this.sourceArray.set(t),function(e,t,r){void 0===r&&(r=null);for(var n=null===r?new Float32Array(e):r,i=0;i<e;i++)n[i]=t[i];return n}(e(t.length,this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)*this.nChannels,this.targetArray,r))},e}(),s={SRC_SINC_BEST_QUALITY:0,SRC_SINC_MEDIUM_QUALITY:1,SRC_SINC_FASTEST:2,SRC_ZERO_ORDER_HOLD:3,SRC_LINEAR:4};let a=(n="undefined"!=typeof document?null===(r=document.currentScript)||void 0===r?void 0:r.src:void 0,function(e={}){var t,r,i,o=e,s=(new Promise((e,n)=>{t=e,r=n}),"object"==typeof window),a="function"==typeof importScripts,u="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,l=!s&&!u&&!a,c=Object.assign({},o),f=(e,t)=>{throw t},d="";l?(i=e=>{if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));let t=read(e,"binary");return"object"==typeof t||z(void 0),t},"undefined"==typeof clearTimeout&&(globalThis.clearTimeout=e=>{}),"undefined"==typeof setTimeout&&(globalThis.setTimeout=e=>"function"==typeof e?e():z()),"undefined"!=typeof scriptArgs&&scriptArgs,"function"==typeof quit&&(f=(e,t)=>{throw setTimeout(()=>{if(!(t instanceof D)){let e=t;t&&"object"==typeof t&&t.stack&&(e=[t,t.stack]),p(`exiting due to exception: ${e}`)}quit(e)}),t}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(s||a)&&(a?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),n&&(d=n),d=d.startsWith("blob:")?"":d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),a&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var h,p=o.printErr||console.error.bind(console);Object.assign(o,c),c=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&(f=o.quit),o.wasmBinary&&(h=o.wasmBinary);var v,y={Memory:function(e){this.buffer=new ArrayBuffer(65536*e.initial)},Module:function(e){},Instance:function(e,t){this.exports=function(e){for(var t,r=new Uint8Array(123),n=25;n>=0;--n)r[48+n]=52+n,r[65+n]=n,r[97+n]=26+n;function i(e,t,n){for(var i,o,s=0,a=t,u=n.length,l=t+(3*u>>2)-("="==n[u-2])-("="==n[u-1]);s<u;s+=4)i=r[n.charCodeAt(s+1)],o=r[n.charCodeAt(s+2)],e[a++]=r[n.charCodeAt(s)]<<2|i>>4,a<l&&(e[a++]=i<<4|o>>2),a<l&&(e[a++]=o<<6|r[n.charCodeAt(s+3)])}function o(){throw Error("abort")}return r[43]=62,r[47]=63,function(e){var r=new ArrayBuffer(0x17d0000),n=new Int8Array(r),s=new Int16Array(r),a=new Int32Array(r),u=new Uint8Array(r),l=(new Uint16Array(r),new Uint32Array(r)),c=new Float32Array(r),f=new Float64Array(r),d=Math.imul,h=Math.fround,p=Math.abs,v=Math.clz32,y=Math.floor,b=Math.ceil,A=e.a,g=A.a,m=A.b,w=A.c,k=A.d,S=A.e,O=A.f,x=A.g,T=A.h,P=A.i,E=A.j,C=A.k,j=A.l,B=A.m,R=A.n,_=A.o,I=8145152,N=0;function z(e){var t,r=0,n=0,i=0,o=0,s=0,c=0,f=0,d=0,h=0,p=0,y=0,b=0;I=t=I-16|0;e:{t:{r:{n:{i:{o:{s:{a:{u:{l:{if((e|=0)>>>0<=244){if(3&(r=(o=a[2019778])>>>(e=(f=e>>>0<11?16:e+11&504)>>>3|0)|0)){e=8079152+(r=(n=e+(1&~r)|0)<<3)|0,r=a[r+8079160>>2],(0|e)!=(0|(i=a[r+8>>2]))?(a[i+12>>2]=e,a[e+8>>2]=i):(y=8079112,b=ea(n)&o,a[y>>2]=b),e=r+8|0,n<<=3,a[r+4>>2]=3|n,a[4+(r=r+n|0)>>2]=1|a[r+4>>2];break e}if((d=a[2019780])>>>0>=f>>>0)break l;if(r){r=8079152+(n=(e=eu((0-(n=2<<e)|n)&r<<e))<<3)|0,n=a[n+8079160>>2],(0|r)!=(0|(i=a[n+8>>2]))?(a[i+12>>2]=r,a[r+8>>2]=i):(o=ea(e)&o,a[2019778]=o),a[n+4>>2]=3|f,s=(e<<=3)-f|0,a[4+(c=n+f|0)>>2]=1|s,a[e+n>>2]=s,d&&(e=8079152+(-8&d)|0,i=a[2019783],(r=1<<(d>>>3))&o?r=a[e+8>>2]:(a[2019778]=r|o,r=e),a[e+8>>2]=i,a[r+12>>2]=i,a[i+12>>2]=e,a[i+8>>2]=r),e=n+8|0,a[2019783]=c,a[2019780]=s;break e}if(!(p=a[2019779]))break l;for(n=a[8079416+(eu(p)<<2)>>2],s=(-8&a[n+4>>2])-f|0,r=n;(e=a[r+16>>2])||(e=a[r+20>>2]);)s=(r=(i=(-8&a[e+4>>2])-f|0)>>>0<s>>>0)?i:s,n=r?e:n,r=e;if(h=a[n+24>>2],(0|n)!=(0|(e=a[n+12>>2]))){r=a[n+8>>2],a[r+12>>2]=e,a[e+8>>2]=r;break t}if(r=a[n+20>>2])i=n+20|0;else{if(!(r=a[n+16>>2]))break u;i=n+16|0}for(;c=i,i=(e=r)+20|0,(r=a[e+20>>2])||(i=e+16|0,r=a[e+16>>2]););a[c>>2]=0;break t}if(f=-1,!(e>>>0>0xffffffbf)&&(f=-8&(r=e+11|0),c=a[2019779])){d=31,s=0-f|0,e>>>0<=0xfffff4&&(d=62+((f>>>38-(e=v(r>>>8|0))&1)-(e<<1)|0)|0);c:{f:{if(r=a[8079416+(d<<2)>>2])for(e=0,n=f<<(31!=(0|d)?25-(d>>>1|0):0);;){if(!((o=(-8&a[r+4>>2])-f|0)>>>0>=s>>>0||(i=r,s=o))){s=0,e=r;break f}if(o=a[r+20>>2],r=a[16+((n>>>29&4)+r|0)>>2],e=o?(0|o)==(0|r)?e:o:e,n<<=1,!r)break}else e=0;if(!(e|i)){if(i=0,!(e=(0-(e=2<<d)|e)&c))break l;e=a[8079416+(eu(e)<<2)>>2]}if(!e)break c}for(;s=(r=(n=(-8&a[e+4>>2])-f|0)>>>0<s>>>0)?n:s,i=r?e:i,e=(r=a[e+16>>2])||a[e+20>>2];);}if(!(!i|a[2019780]-f>>>0<=s>>>0)){if(d=a[i+24>>2],(0|i)!=(0|(e=a[i+12>>2]))){r=a[i+8>>2],a[r+12>>2]=e,a[e+8>>2]=r;break r}if(r=a[i+20>>2])n=i+20|0;else{if(!(r=a[i+16>>2]))break a;n=i+16|0}for(;o=n,n=(e=r)+20|0,(r=a[e+20>>2])||(n=e+16|0,r=a[e+16>>2]););a[o>>2]=0;break r}}}if((i=a[2019780])>>>0>=f>>>0){e=a[2019783],(r=i-f|0)>>>0>=16?(a[4+(n=e+f|0)>>2]=1|r,a[e+i>>2]=r,a[e+4>>2]=3|f):(a[e+4>>2]=3|i,a[4+(r=e+i|0)>>2]=1|a[r+4>>2],n=0,r=0),a[2019780]=r,a[2019783]=n,e=e+8|0;break e}if((n=a[2019781])>>>0>f>>>0){r=n-f|0,a[2019781]=r,n=(e=a[2019784])+f|0,a[2019784]=n,a[n+4>>2]=1|r,a[e+4>>2]=3|f,e=e+8|0;break e}if(e=0,s=f+47|0,a[2019896]?r=a[2019898]:(a[2019899]=-1,a[2019900]=-1,a[2019897]=4096,a[2019898]=4096,a[2019896]=t+12&-16^0x55555558,a[2019901]=0,a[2019889]=0,r=4096),(r=(o=s+r|0)&(c=0-r|0))>>>0<=f>>>0||(d=a[2019888])&&(i=(h=a[2019886])+r|0)>>>0<=h>>>0|i>>>0>d>>>0)break e;l:{if(!(4&u[8079556])){c:{f:{d:{h:{if(i=a[2019784])for(e=8079560;;){if((d=a[e>>2])>>>0<=i>>>0&i>>>0<d+a[e+4>>2]>>>0)break h;if(!(e=a[e+8>>2]))break}if(-1==(0|(n=ee(0)))||(o=r,(i=(e=a[2019897])-1|0)&n&&(o=(r-n|0)+(n+i&0-e)|0),o>>>0<=f>>>0)||(i=a[2019888])&&(e=(c=a[2019886])+o|0)>>>0<=c>>>0|e>>>0>i>>>0)break c;if((0|n)!=(0|(e=ee(o))))break d;break l}if((0|(n=ee(o=c&o-n)))==(a[e>>2]+a[e+4>>2]|0))break f;e=n}if(-1==(0|e))break c;if(f+48>>>0<=o>>>0){n=e;break l}if(-1==(0|ee(n=(n=a[2019898])+(s-o|0)&0-n)))break c;o=n+o|0,n=e;break l}if(-1!=(0|n))break l}a[2019889]=4|a[2019889]}if(-1==(0|(n=ee(r)))|-1==(0|(e=ee(0)))|e>>>0<=n>>>0||(o=e-n|0)>>>0<=f+40>>>0)break i}e=a[2019886]+o|0,a[2019886]=e,e>>>0>l[2019887]&&(a[2019887]=e);l:{if(s=a[2019784]){for(e=8079560;;){if(((r=a[e>>2])+(i=a[e+4>>2])|0)==(0|n))break l;if(!(e=a[e+8>>2]))break}break s}for((e=a[2019782])>>>0<=n>>>0&&e||(a[2019782]=n),e=0,a[2019891]=o,a[2019890]=n,a[2019786]=-1,a[2019787]=a[2019896],a[2019893]=0;i=8079152+(r=e<<3)|0,a[r+8079160>>2]=i,a[r+8079164>>2]=i,32!=(0|(e=e+1|0)););i=(e=o-40|0)-(r=-8-n&7)|0,a[2019781]=i,r=r+n|0,a[2019784]=r,a[r+4>>2]=1|i,a[4+(e+n|0)>>2]=40,a[2019785]=a[2019900];break o}if(8&a[e+12>>2]|n>>>0<=s>>>0|r>>>0>s>>>0)break s;a[e+4>>2]=i+o,r=(e=-8-s&7)+s|0,a[2019784]=r,e=(n=a[2019781]+o|0)-e|0,a[2019781]=e,a[r+4>>2]=1|e,a[4+(n+s|0)>>2]=40,a[2019785]=a[2019900];break o}e=0;break t}e=0;break r}l[2019782]>n>>>0&&(a[2019782]=n),i=n+o|0,e=8079560;s:{for(;;){if((0|(r=a[e>>2]))!=(0|i)){if(e=a[e+8>>2])continue;break s}break}if(!(8&u[e+12|0]))break n}for(e=8079560;!((r=a[e>>2])>>>0<=s>>>0&&(i=r+a[e+4>>2]|0)>>>0>s>>>0);)e=a[e+8>>2];for(c=(e=o-40|0)-(r=-8-n&7)|0,a[2019781]=c,r=r+n|0,a[2019784]=r,a[r+4>>2]=1|c,a[4+(e+n|0)>>2]=40,a[2019785]=a[2019900],a[(r=(e=(i+(39-i&7)|0)-47|0)>>>0<s+16>>>0?s:e)+4>>2]=27,e=a[2019893],a[r+16>>2]=a[2019892],a[r+20>>2]=e,e=a[2019891],a[r+8>>2]=a[2019890],a[r+12>>2]=e,a[2019892]=r+8,a[2019891]=o,a[2019890]=n,a[2019893]=0,e=r+24|0;a[e+4>>2]=7,n=e+8|0,e=e+4|0,n>>>0<i>>>0;);if((0|r)!=(0|s)){a[r+4>>2]=-2&a[r+4>>2],n=r-s|0,a[s+4>>2]=1|n,a[r>>2]=n;s:if(n>>>0<=255)e=8079152+(-8&n)|0,(r=a[2019778])&(n=1<<(n>>>3))?r=a[e+8>>2]:(a[2019778]=r|n,r=e),a[e+8>>2]=s,a[r+12>>2]=s,i=8,n=12;else{e=31,n>>>0<=0xffffff&&(e=62+((n>>>38-(e=v(n>>>8|0))&1)-(e<<1)|0)|0),a[s+28>>2]=e,a[s+16>>2]=0,a[s+20>>2]=0,r=8079416+(e<<2)|0;a:{if((i=a[2019779])&(o=1<<e)){for(e=n<<(31!=(0|e)?25-(e>>>1|0):0),i=a[r>>2];;){if((0|n)==(-8&a[(r=i)+4>>2]))break a;if(i=e>>>29|0,e<<=1,!(i=a[16+(o=(4&i)+r|0)>>2]))break}a[o+16>>2]=s}else a[2019779]=i|o,a[r>>2]=s;a[s+24>>2]=r,e=r=s,i=12,n=8;break s}e=a[r+8>>2],a[e+12>>2]=s,a[r+8>>2]=s,a[s+8>>2]=e,e=0,i=12,n=24}a[i+s>>2]=r,a[n+s>>2]=e}}if(!((e=a[2019781])>>>0<=f>>>0)){r=e-f|0,a[2019781]=r,n=(e=a[2019784])+f|0,a[2019784]=n,a[n+4>>2]=1|r,a[e+4>>2]=3|f,e=e+8|0;break e}}a[2019777]=48,e=0;break e}a[e>>2]=n,a[e+4>>2]=a[e+4>>2]+o,a[4+(d=(-8-n&7)+n|0)>>2]=3|f,c=(o=r+(-8-r&7)|0)-(s=f+d|0)|0;n:if(a[2019784]!=(0|o)){if(a[2019783]!=(0|o)){if(1==(3&(e=a[o+4>>2]))){h=-8&e,n=a[o+12>>2];i:if(e>>>0<=255){if((0|(r=a[o+8>>2]))==(0|n)){y=8079112,b=a[2019778]&ea(e>>>3|0),a[y>>2]=b;break i}a[r+12>>2]=n,a[n+8>>2]=r}else{f=a[o+24>>2];o:if((0|n)==(0|o)){s:{if(e=a[o+20>>2])r=o+20|0;else{if(!(e=a[o+16>>2]))break s;r=o+16|0}for(;i=r,n=e,r=e+20|0,(e=a[e+20>>2])||(r=n+16|0,e=a[n+16>>2]););a[i>>2]=0;break o}n=0}else e=a[o+8>>2],a[e+12>>2]=n,a[n+8>>2]=e;if(f){e=a[o+28>>2];o:{if(a[(r=8079416+(e<<2)|0)>>2]==(0|o)){if(a[r>>2]=n,n)break o;y=8079116,b=a[2019779]&ea(e),a[y>>2]=b;break i}if(a[f+(a[f+16>>2]==(0|o)?16:20)>>2]=n,!n)break i}a[n+24>>2]=f,(e=a[o+16>>2])&&(a[n+16>>2]=e,a[e+24>>2]=n),(e=a[o+20>>2])&&(a[n+20>>2]=e,a[e+24>>2]=n)}}c=c+h|0,e=a[4+(o=o+h|0)>>2]}if(a[o+4>>2]=-2&e,a[s+4>>2]=1|c,a[s+c>>2]=c,c>>>0<=255)e=8079152+(-8&c)|0,(r=a[2019778])&(n=1<<(c>>>3))?r=a[e+8>>2]:(a[2019778]=r|n,r=e),a[e+8>>2]=s,a[r+12>>2]=s,a[s+12>>2]=e,a[s+8>>2]=r;else{n=31,c>>>0<=0xffffff&&(n=62+((c>>>38-(e=v(c>>>8|0))&1)-(e<<1)|0)|0),a[s+28>>2]=n,a[s+16>>2]=0,a[s+20>>2]=0,e=8079416+(n<<2)|0;i:{if((r=a[2019779])&(i=1<<n)){for(n=c<<(31!=(0|n)?25-(n>>>1|0):0),r=a[e>>2];;){if((-8&a[(e=r)+4>>2])==(0|c))break i;if(r=n>>>29|0,n<<=1,!(r=a[16+(i=(4&r)+e|0)>>2]))break}a[i+16>>2]=s}else a[2019779]=r|i,a[e>>2]=s;a[s+24>>2]=e,a[s+12>>2]=s,a[s+8>>2]=s;break n}r=a[e+8>>2],a[r+12>>2]=s,a[e+8>>2]=s,a[s+24>>2]=0,a[s+12>>2]=e,a[s+8>>2]=r}}else a[2019783]=s,e=a[2019780]+c|0,a[2019780]=e,a[s+4>>2]=1|e,a[e+s>>2]=e}else a[2019784]=s,e=a[2019781]+c|0,a[2019781]=e,a[s+4>>2]=1|e;e=d+8|0;break e}r:if(d){r=a[i+28>>2];n:{if(a[(n=8079416+(r<<2)|0)>>2]==(0|i)){if(a[n>>2]=e,e)break n;c=ea(r)&c,a[2019779]=c;break r}if(a[d+(a[d+16>>2]==(0|i)?16:20)>>2]=e,!e)break r}a[e+24>>2]=d,(r=a[i+16>>2])&&(a[e+16>>2]=r,a[r+24>>2]=e),(r=a[i+20>>2])&&(a[e+20>>2]=r,a[r+24>>2]=e)}r:if(s>>>0<=15)e=s+f|0,a[i+4>>2]=3|e,a[4+(e=e+i|0)>>2]=1|a[e+4>>2];else if(a[i+4>>2]=3|f,a[4+(o=i+f|0)>>2]=1|s,a[s+o>>2]=s,s>>>0<=255)e=8079152+(-8&s)|0,(r=a[2019778])&(n=1<<(s>>>3))?r=a[e+8>>2]:(a[2019778]=r|n,r=e),a[e+8>>2]=o,a[r+12>>2]=o,a[o+12>>2]=e,a[o+8>>2]=r;else{e=31,s>>>0<=0xffffff&&(e=62+((s>>>38-(e=v(s>>>8|0))&1)-(e<<1)|0)|0),a[o+28>>2]=e,a[o+16>>2]=0,a[o+20>>2]=0,r=8079416+(e<<2)|0;n:{if((n=1<<e)&c){for(e=s<<(31!=(0|e)?25-(e>>>1|0):0),r=a[r>>2];;){if(n=r,(-8&a[r+4>>2])==(0|s))break n;if(c=e>>>29|0,e<<=1,!(r=a[16+(c=r+(4&c)|0)>>2]))break}a[c+16>>2]=o,a[o+24>>2]=n}else a[2019779]=n|c,a[r>>2]=o,a[o+24>>2]=r;a[o+12>>2]=o,a[o+8>>2]=o;break r}e=a[n+8>>2],a[e+12>>2]=o,a[n+8>>2]=o,a[o+24>>2]=0,a[o+12>>2]=n,a[o+8>>2]=e}e=i+8|0;break e}t:if(h){r=a[n+28>>2];r:{if(a[(i=8079416+(r<<2)|0)>>2]==(0|n)){if(a[i>>2]=e,e)break r;y=8079116,b=ea(r)&p,a[y>>2]=b;break t}if(a[h+(a[h+16>>2]==(0|n)?16:20)>>2]=e,!e)break t}a[e+24>>2]=h,(r=a[n+16>>2])&&(a[e+16>>2]=r,a[r+24>>2]=e),(r=a[n+20>>2])&&(a[e+20>>2]=r,a[r+24>>2]=e)}s>>>0<=15?(e=s+f|0,a[n+4>>2]=3|e,a[4+(e=e+n|0)>>2]=1|a[e+4>>2]):(a[n+4>>2]=3|f,a[4+(c=n+f|0)>>2]=1|s,a[s+c>>2]=s,d&&(e=8079152+(-8&d)|0,i=a[2019783],(r=1<<(d>>>3))&o?r=a[e+8>>2]:(a[2019778]=r|o,r=e),a[e+8>>2]=i,a[r+12>>2]=i,a[i+12>>2]=e,a[i+8>>2]=r),a[2019783]=c,a[2019780]=s),e=n+8|0}return I=t+16|0,0|e}function D(e){var t=0,r=0,n=0,i=0,o=0,s=0,u=0,c=0,f=0;e:if(e|=0){o=(n=e-8|0)+(e=-8&(t=a[e-4>>2]))|0;t:if(!(1&t)){if(!(2&t)||(n=n-(t=a[n>>2])|0)>>>0<l[2019782])break e;e=e+t|0;r:{n:{i:{if(a[2019783]!=(0|n)){if(r=a[n+12>>2],t>>>0<=255){if((0|(i=a[n+8>>2]))!=(0|r))break i;c=8079112,f=a[2019778]&ea(t>>>3|0),a[c>>2]=f;break t}if(u=a[n+24>>2],(0|r)!=(0|n)){t=a[n+8>>2],a[t+12>>2]=r,a[r+8>>2]=t;break r}if(i=a[n+20>>2])t=n+20|0;else{if(!(i=a[n+16>>2]))break n;t=n+16|0}for(;s=t,t=(r=i)+20|0,(i=a[r+20>>2])||(t=r+16|0,i=a[r+16>>2]););a[s>>2]=0;break r}if(3&~(t=a[o+4>>2]))break t;return a[2019780]=e,a[o+4>>2]=-2&t,a[n+4>>2]=1|e,void(a[o>>2]=e)}a[i+12>>2]=r,a[r+8>>2]=i;break t}r=0}if(u){t=a[n+28>>2];r:{if(a[(i=8079416+(t<<2)|0)>>2]==(0|n)){if(a[i>>2]=r,r)break r;c=8079116,f=a[2019779]&ea(t),a[c>>2]=f;break t}if(a[u+(a[u+16>>2]==(0|n)?16:20)>>2]=r,!r)break t}a[r+24>>2]=u,(t=a[n+16>>2])&&(a[r+16>>2]=t,a[t+24>>2]=r),(t=a[n+20>>2])&&(a[r+20>>2]=t,a[t+24>>2]=r)}}if(!(n>>>0>=o>>>0)&&1&(t=a[o+4>>2])){t:{r:{n:{i:{if(!(2&t)){if((0|o)==a[2019784]){if(a[2019784]=n,e=a[2019781]+e|0,a[2019781]=e,a[n+4>>2]=1|e,a[2019783]!=(0|n))break e;return a[2019780]=0,void(a[2019783]=0)}if((0|o)==a[2019783])return a[2019783]=n,e=a[2019780]+e|0,a[2019780]=e,a[n+4>>2]=1|e,void(a[e+n>>2]=e);if(e=(-8&t)+e|0,r=a[o+12>>2],t>>>0<=255){if((0|(i=a[o+8>>2]))==(0|r)){c=8079112,f=a[2019778]&ea(t>>>3|0),a[c>>2]=f;break r}a[i+12>>2]=r,a[r+8>>2]=i;break r}if(u=a[o+24>>2],(0|r)!=(0|o)){t=a[o+8>>2],a[t+12>>2]=r,a[r+8>>2]=t;break n}if(i=a[o+20>>2])t=o+20|0;else{if(!(i=a[o+16>>2]))break i;t=o+16|0}for(;s=t,t=(r=i)+20|0,(i=a[r+20>>2])||(t=r+16|0,i=a[r+16>>2]););a[s>>2]=0;break n}a[o+4>>2]=-2&t,a[n+4>>2]=1|e,a[e+n>>2]=e;break t}r=0}if(u){t=a[o+28>>2];n:{if((0|o)==a[(i=8079416+(t<<2)|0)>>2]){if(a[i>>2]=r,r)break n;c=8079116,f=a[2019779]&ea(t),a[c>>2]=f;break r}if(a[u+((0|o)==a[u+16>>2]?16:20)>>2]=r,!r)break r}a[r+24>>2]=u,(t=a[o+16>>2])&&(a[r+16>>2]=t,a[t+24>>2]=r),(t=a[o+20>>2])&&(a[r+20>>2]=t,a[t+24>>2]=r)}}if(a[n+4>>2]=1|e,a[e+n>>2]=e,a[2019783]==(0|n))return void(a[2019780]=e)}if(e>>>0<=255)return t=8079152+(-8&e)|0,(i=a[2019778])&(e=1<<(e>>>3))?e=a[t+8>>2]:(a[2019778]=e|i,e=t),a[t+8>>2]=n,a[e+12>>2]=n,a[n+12>>2]=t,void(a[n+8>>2]=e);r=31,e>>>0<=0xffffff&&(r=62+((e>>>38-(t=v(e>>>8|0))&1)-(t<<1)|0)|0),a[n+28>>2]=r,a[n+16>>2]=0,a[n+20>>2]=0,s=8079416+(r<<2)|0;t:{r:{if((t=a[2019779])&(i=1<<r)){for(r=e<<(31!=(0|r)?25-(r>>>1|0):0),t=a[s>>2];;){if(i=t,(-8&a[t+4>>2])==(0|e))break r;if(t=r>>>29|0,r<<=1,!(t=a[(s=16+((4&t)+i|0)|0)>>2]))break}r=24,t=i}else a[2019779]=t|i,r=24,t=s;i=n,o=n,e=8;break t}t=a[i+8>>2],a[t+12>>2]=n,r=8,s=i+8|0,o=0,e=24}a[s>>2]=n,a[r+n>>2]=t,a[n+12>>2]=i,a[e+n>>2]=o,e=a[2019786]-1|0,a[2019786]=e||-1}}}function W(e,t,r){var i,o=0,s=0;if(r>>>0>=512)return _(0|e,0|t,0|r),e;i=e+r|0;e:if(3&(e^t)){if(i>>>0<4)r=e;else if((o=i-4|0)>>>0<e>>>0)r=e;else for(r=e;n[0|r]=u[0|t],n[r+1|0]=u[t+1|0],n[r+2|0]=u[t+2|0],n[r+3|0]=u[t+3|0],t=t+4|0,o>>>0>=(r=r+4|0)>>>0;);}else{t:if(3&e){if(r)for(r=e;;){if(n[0|r]=u[0|t],t=t+1|0,!(3&(r=r+1|0)))break t;if(!(r>>>0<i>>>0))break}else r=e}else r=e;if(o=-4&i,!(i>>>0<64||(s=o+-64|0)>>>0<r>>>0))for(;a[r>>2]=a[t>>2],a[r+4>>2]=a[t+4>>2],a[r+8>>2]=a[t+8>>2],a[r+12>>2]=a[t+12>>2],a[r+16>>2]=a[t+16>>2],a[r+20>>2]=a[t+20>>2],a[r+24>>2]=a[t+24>>2],a[r+28>>2]=a[t+28>>2],a[r+32>>2]=a[t+32>>2],a[r+36>>2]=a[t+36>>2],a[r+40>>2]=a[t+40>>2],a[r+44>>2]=a[t+44>>2],a[r+48>>2]=a[t+48>>2],a[r+52>>2]=a[t+52>>2],a[r+56>>2]=a[t+56>>2],a[r+60>>2]=a[t+60>>2],t=t- -64|0,s>>>0>=(r=r- -64|0)>>>0;);if(r>>>0>=o>>>0)break e;for(;a[r>>2]=a[t>>2],t=t+4|0,o>>>0>(r=r+4|0)>>>0;);}if(r>>>0<i>>>0)for(;n[0|r]=u[0|t],t=t+1|0,(0|i)!=(0|(r=r+1|0)););return e}function L(e,t,r,n){var i=0,o=0,s=0,u=0,l=0,c=0,f=0;return!a[r>>2]|a[e+60>>2]>=0||(l=0-n|0,(i=a[e+52>>2])?(0|(o=a[e+64>>2]))>((s=a[e+56>>2])+(t+n|0)|0)?i=(0|(i=o-(n+i|0)|0))>0?i:0:(U(o=a[e+2120>>2],(o+(i<<2)|0)+(l<<2)|0,(s=(s-i|0)+n|0)<<2),a[e+56>>2]=s,a[e+52>>2]=n,i=(0|(i=(o=a[e+64>>2])-(n<<1)|0))>0?i:0):(a[e+56>>2]=n,a[e+52>>2]=n,s=n,i=(o=a[e+64>>2])-(n<<1)|0),c=21,f=a[e+8>>2],(0|(i=(i=(0|i)>(0|(u=a[e+4>>2]-f|0))?u:i)-((0|i)%(0|t)|0)|0))<0|(i+s|0)>(0|o)||(W(a[e+2120>>2]+(s<<2)|0,a[r>>2]+(f<<2)|0,i<<2),t=i+a[e+56>>2]|0,a[e+56>>2]=t,s=i+a[e+8>>2]|0,a[e+8>>2]=s,c=0,(0|s)==a[e+4>>2]&&(i=t-(o=a[e+52>>2])|0,!a[r+24>>2]|(0|i)>=n<<1||((0|(s=n+5|0))>((r=a[e+64>>2])-t|0)&&(U(r=t=a[e+2120>>2],u=(t+(o<<2)|0)+(l<<2)|0,(t=n+i|0)<<2),a[e+56>>2]=t,a[e+52>>2]=n,r=a[e+64>>2]),a[e+60>>2]=t,o=r-t|0,q(i=a[e+2120>>2]+(t<<2)|0,0,(t=(0|n)<-5||(t+s|0)>(0|r)?o:s)<<2),a[e+56>>2]=t+a[e+56>>2])))),c}function F(e,t){var r,i,o=0,s=0,u=0;if(I=r=I-16|0,s=a[e>>2],u=a[s-8>>2],a[r+12>>2]=u,a[r+4>>2]=e+u,a[r+8>>2]=a[s-4>>2],s=Q(u=a[r+8>>2],t,0),i=a[r+4>>2],s)I=e=I+-64|0,I=e- -64|0,o=a[r+12>>2]?0:i;else if(I=s=I+-64|0,(0|e)>=(0|i)&&(a[s+28>>2]=0,a[s+32>>2]=0,a[s+36>>2]=0,a[s+40>>2]=0,a[s+44>>2]=0,a[s+48>>2]=0,a[s+20>>2]=0,a[s+24>>2]=0,a[s+16>>2]=0,a[s+12>>2]=t,a[s+4>>2]=u,a[s+60>>2]=0,a[s+52>>2]=1,a[s+56>>2]=0x1000000,a[s+8>>2]=e,ev[a[a[u>>2]+20>>2]](u,s+4|0,i,i,1,0),o=a[s+28>>2]?e:0),I=s- -64|0,!o){I=o=I+-64|0,a[o+16>>2]=0,a[o+12>>2]=13984,a[o+8>>2]=e,a[o+4>>2]=t,e=0,q(o+20|0,0,39),a[o+60>>2]=0,n[o+59|0]=1,ev[a[a[u>>2]+24>>2]](u,o+4|0,i,1,0);e:{switch(a[o+40>>2]){case 0:e=1==a[o+44>>2]&&1==a[o+32>>2]&&1==a[o+36>>2]?a[o+24>>2]:0;break e;case 1:break;default:break e}1!=a[o+28>>2]&&a[o+44>>2]|1!=a[o+32>>2]|1!=a[o+36>>2]||(e=a[o+20>>2])}I=o- -64|0,o=e}return I=r+16|0,o}function M(){E(14224,1239),P(14236,1133,1,0),w(14248,1113,1,-128,127),w(14272,1106,1,-128,127),w(14260,1104,1,0,255),w(14284,1065,2,-32768,32767),w(14296,1056,2,0,65535),w(14308,1080,4,-0x80000000,0x7fffffff),w(14320,1071,4,0,-1),w(14332,1152,4,-0x80000000,0x7fffffff),w(14344,1143,4,0,-1),el(14356,1096,-0x80000000,0x7fffffff),el(14368,1095,0,-1),O(14380,1089,4),O(14392,1232,8),S(3020,1183),S(3092,1748),k(3164,4,1157),k(3240,2,1195),k(3316,4,1210),T(3864),g(3356,0,1679),g(3396,0,1781),g(3436,1,1709),g(3476,2,1244),g(3516,3,1275),g(3556,4,1315),g(3596,5,1344),g(3636,4,1818),g(3676,5,1848),g(3396,0,1446),g(3436,1,1413),g(3476,2,1512),g(3516,3,1478),g(3556,4,1646),g(3596,5,1612),g(3716,8,1579),g(3756,9,1545),g(3960,6,1382),g(3796,7,1887)}function U(e,t,r){var i=0,o=0;e:if((0|e)!=(0|t)){if(t-(o=e+r|0)>>>0<=0-(r<<1)>>>0)return void W(e,t,r);if(i=3&(e^t),e>>>0<t>>>0){if(!i){if(3&e)for(;;){if(!r)break e;if(n[0|e]=u[0|t],t=t+1|0,r=r-1|0,!(3&(e=e+1|0)))break}if(!(r>>>0<=3))for(;a[e>>2]=a[t>>2],t=t+4|0,e=e+4|0,(r=r-4|0)>>>0>3;);}if(r)for(;n[0|e]=u[0|t],e=e+1|0,t=t+1|0,r=r-1|0;);}else{if(!i){if(3&o)for(;;){if(!r)break e;if(n[0|(i=(r=r-1|0)+e|0)]=u[t+r|0],!(3&i))break}if(!(r>>>0<=3))for(;a[(r=r-4|0)+e>>2]=a[t+r>>2],r>>>0>3;);}if(!r)break e;for(;n[(r=r-1|0)+e|0]=u[t+r|0],r;);}}}function q(e,t,r){var i=0,o=0,s=0,u=0;if(r&&(n[0|e]=t,n[(i=e+r|0)-1|0]=t,!(r>>>0<3||(n[e+2|0]=t,n[e+1|0]=t,n[i-3|0]=t,n[i-2|0]=t,r>>>0<7||(n[e+3|0]=t,n[i-4|0]=t,r>>>0<9||(o=(i=0-e&3)+e|0,t=d(255&t,0x1010101),a[o>>2]=t,a[(r=(i=r-i&-4)+o|0)-4>>2]=t,i>>>0<9||(a[o+8>>2]=t,a[o+4>>2]=t,a[r-8>>2]=t,a[r-12>>2]=t,i>>>0<25||(a[o+24>>2]=t,a[o+20>>2]=t,a[o+16>>2]=t,a[o+12>>2]=t,a[r-16>>2]=t,a[r-20>>2]=t,a[r-24>>2]=t,a[r-28>>2]=t,(r=i-(u=4&o|24)|0)>>>0<32))))))))for(i=$(t,1,1),s=N,t=o+u|0;a[t+24>>2]=i,a[t+28>>2]=s,a[t+16>>2]=i,a[t+20>>2]=s,a[t+8>>2]=i,a[t+12>>2]=s,a[t>>2]=i,a[t+4>>2]=s,t=t+32|0,(r=r-32|0)>>>0>31;);return e}function G(e){var t,r=0,n=0,i=0;if((t=a[52+(e|=0)>>2])&&(n=er(1,56))){if(r=a[e+4>>2],a[n>>2]=a[e>>2],a[n+4>>2]=r,r=a[e+52>>2],a[n+48>>2]=a[e+48>>2],a[n+52>>2]=r,r=a[e+44>>2],a[n+40>>2]=a[e+40>>2],a[n+44>>2]=r,r=a[e+36>>2],a[n+32>>2]=a[e+32>>2],a[n+36>>2]=r,r=a[e+28>>2],a[n+24>>2]=a[e+24>>2],a[n+28>>2]=r,r=a[e+20>>2],a[n+16>>2]=a[e+16>>2],a[n+20>>2]=r,r=a[e+12>>2],a[n+8>>2]=a[e+8>>2],a[n+12>>2]=r,!(i=er(1,28)))return D(n),0;if(r=a[t+4>>2],a[i>>2]=a[t>>2],a[i+4>>2]=r,r=a[t+20>>2],a[i+16>>2]=a[t+16>>2],a[i+20>>2]=r,r=a[t+12>>2],a[i+8>>2]=a[t+8>>2],a[i+12>>2]=r,r=z(e=a[e+28>>2]<<2),a[i+24>>2]=r,!r)return D(n),D(i),0;W(r,a[t+24>>2],e),a[n+52>>2]=i,r=n}return 0|r}function Z(e){var t,r,n,i=0,o=0,s=0,u=0;if(!e)return 2;if(a[e+32>>2])return 18;if(!((r=a[2019718])|a[2019720]<=0)||!((n=a[2019719])|a[2019721]<=0))return 4;if(i=6,!((t=f[1009863])<.00390625|t>256)){(0|(o=a[2019720]))<0&&(a[2019720]=0,o=0),(0|(s=a[2019721]))<0&&(a[2019721]=0,s=0),i=a[e+28>>2];e:{if(r>>>0<n>>>0){if((d(i,o)<<2)+r>>>0<=n>>>0)break e;return 16}if(!((d(i,s)<<2)+n>>>0<=r>>>0))return 16}a[2019722]=0,a[2019723]=0,(u=f[e+8>>3])<.00390625&&(f[e+8>>3]=t,u=t),i=0|ev[a[a[e>>2]+((1e-15>p(u-t))<<2)>>2]](e,8078872)}return i}function V(e,t){var r=0,n=0,i=0,o=0;if(n=11,!((0|e)>128)&&(n=1,i=er(1,56))){a[i+28>>2]=e,r=(r=e-1|0)>>>0<=5?a[13924+(r<<2)>>2]:14780,a[i>>2]=r;e:{if(r=er(1,2128)){if(a[r>>2]=0x26a5050,a[r+20>>2]=2462,a[r+24>>2]=128,a[r+48>>2]=4068,n=d(e,14787)+1|0,a[r+64>>2]=n,o=er(e+n|0,4),a[r+2120>>2]=o,o)break e;D(r)}return D(i),a[t>>2]=1,0}a[i+52>>2]=r,a[r+60>>2]=-1,q((n<<2)+o|0,170,e<<2),r=i,n=0}return a[t>>2]=n,r}function Y(e,t,r,i){n[e+53|0]=1;e:if(a[e+4>>2]==(0|r)){n[e+52|0]=1;t:{if(!(r=a[e+16>>2])){if(a[e+36>>2]=1,a[e+24>>2]=i,a[e+16>>2]=t,1!=(0|i))break e;if(1==a[e+48>>2])break t;break e}if((0|t)==(0|r)){if(2==(0|(r=a[e+24>>2]))&&(a[e+24>>2]=i,r=i),1!=a[e+48>>2])break e;if(1==(0|r))break t;break e}a[e+36>>2]=a[e+36>>2]+1}n[e+54|0]=1}}function J(e){var t=0,r=0,n=0;e:{t:if(3&(t=e)){if(!u[0|t])return 0;for(;;){if(!(3&(t=t+1|0)))break t;if(!u[0|t])break}break e}for(;r=t,t=t+4|0,-0x7f7f7f80==(-0x7f7f7f80&((n=a[r>>2])|0x1010100-n)););for(;r=(t=r)+1|0,u[0|t];);}return t-e|0}function Q(e,t,r){var n=0;if(!r)return a[e+4>>2]==a[t+4>>2];if((0|e)==(0|t))return 1;e=u[0|(n=a[e+4>>2])],r=a[t+4>>2];e:if(!(!e|(0|(t=u[0|r]))!=(0|e)))for(;;){if(t=u[r+1|0],!(e=u[n+1|0]))break e;if(r=r+1|0,n=n+1|0,(0|e)!=(0|t))break}return(0|e)==(0|t)}function X(e,t,r){var i;if(!(i=a[e+36>>2]))return a[e+24>>2]=r,a[e+16>>2]=t,a[e+36>>2]=1,void(a[e+20>>2]=a[e+56>>2]);e:{if(!(a[e+20>>2]!=a[e+56>>2]|a[e+16>>2]!=(0|t))){if(2!=a[e+24>>2])break e;return void(a[e+24>>2]=r)}n[e+54|0]=1,a[e+24>>2]=2,a[e+36>>2]=i+1}}function H(e,t){var r,n=0,i=0;if(i=1,r=er(1,56)){a[r+28>>2]=e;e:{if(n=er(1,28)){if(a[n>>2]=0x6f70a93,e=er(e,4),a[n+24>>2]=e,e)break e;D(n)}return D(r),a[t>>2]=1,0}a[r>>2]=14800,a[r+52>>2]=n,i=0,n=r}return a[t>>2]=i,n}function K(e,t){var r,n=0,i=0;if(i=1,r=er(1,56)){a[r+28>>2]=e;e:{if(n=er(1,28)){if(a[n>>2]=0x787c4fc,e=er(e,4),a[n+24>>2]=e,e)break e;D(n)}return D(r),a[t>>2]=1,0}a[r>>2]=14820,a[r+52>>2]=n,i=0,n=r}return a[t>>2]=i,n}function $(e,t,r){var n,i,o,s,a=0;return s=d(n=t>>>16|0,a=e>>>16|0),t=(65535&(a=((o=d(t&=65535,i=65535&e))>>>16|0)+d(t,a)|0))+d(n,i)|0,N=s+d(e,r)+(a>>>16)+(t>>>16)|0,65535&o|t<<16}function ee(e){var t,r;e:if(!(!((e=(t=a[3710])+(r=e+7&-8)|0)>>>0<=t>>>0&&r)&&(e>>>0<=ey()<<16>>>0||0|R(0|e)))){return a[2019777]=48,-1}return a[3710]=e,t}function et(e){var t,r=0;for(t=e>>>0<=1?1:e;!(e=z(t))&&(r=a[2019902]);)ev[0|r]();return e||(B(),o()),e}function er(e,t){var r=0;return e&&(r=$(e,t,0),(e|t)>>>0<65536||(r=N?-1:r)),!(e=z(r))|!(3&u[e-4|0])||q(e,0,r),e}function en(e){var t,r;return a[(e|=0)>>2]=14584,t=a[e+4>>2]-12|0,r=a[t+8>>2]-1|0,a[t+8>>2]=r,(0|r)<0&&D(t),0|e}function ei(e){var t=0,r=0;if(!((r=e-(t=y(e)))<.5)){if(e=b(e),r>.5)return e;r=e,t=(e=.5*t)-y(e)==0?t:r}return t}function eo(e){var t=0,r=0;(e|=0)&&((t=a[e+52>>2])&&((r=a[t+24>>2])&&D(r),D(t)),D(e))}function es(e){var t;(t=a[52+(e|=0)>>2])&&(n[t+4|0]=0,q(a[t+24>>2],0,a[e+28>>2]<<2))}function ea(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}function eu(e){return e?31-v(e-1^e)|0:32}function el(e,t,r,n){j(0|e,0|t,8,0,0|r,-1,0|n)}function ec(e){en(e|=0),D(e)}function ef(e){return 0|e}function ed(e){D(e|=0)}function eh(e){}i(t=u,1024,"ZGVzdHJveQB0YXJnZXRBcnJheQBzb3VyY2VBcnJheQB1bnNpZ25lZCBzaG9ydAB1bnNpZ25lZCBpbnQAaW5pdABmbG9hdAB1aW50NjRfdAB1bnNpZ25lZCBjaGFyAHN0ZDo6ZXhjZXB0aW9uAGJvb2wAZnVsbAB1bnNpZ25lZCBsb25nAHN0ZDo6d3N0cmluZwBiYXNpY19zdHJpbmcAc3RkOjpzdHJpbmcAc3RkOjp1MTZzdHJpbmcAc3RkOjp1MzJzdHJpbmcAc2ltcGxlAGRvdWJsZQB2b2lkAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AHNyY19wcm9jZXNzKCkgY2FsbGVkIHdpdGhvdXQgcmVzZXQgYWZ0ZXIgZW5kX29mX2lucHV0LgBUaGlzIGNvbnZlcnRlciBvbmx5IGFsbG93cyBjb25zdGFudCBjb252ZXJzaW9uIHJhdGlvcy4ASW50ZXJuYWwgZXJyb3IuIEJhZCBidWZmZXIgbGVuZ3RoLiBQbGVhc2UgcmVwb3J0IHRoaXMuAEludGVybmFsIGVycm9yLiBJbnB1dCBkYXRhIC8gaW50ZXJuYWwgYnVmZmVyIHNpemUgZGlmZmVyZW5jZS4gUGxlYXNlIHJlcG9ydCB0aGlzLgBJbnRlcm5hbCBlcnJvci4gUHJpdmF0ZSBwb2ludGVyIGlzIE5VTEwuIFBsZWFzZSByZXBvcnQgdGhpcy4ATm8gZXJyb3IuAEludGVybmFsIGVycm9yLiBObyBwcm9jZXNzIHBvaW50ZXIuAFBsYWNlaG9sZGVyLiBObyBlcnJvciBkZWZpbmVkIGZvciB0aGlzIGVycm9yIG51bWJlci4AQmFkIGNvbnZlcnRlciBudW1iZXIuAElucHV0IGFuZCBvdXRwdXQgZGF0YSBhcnJheXMgb3ZlcmxhcC4ARXJyb3IgOiBTb21lb25lIGlzIHRyYW1wbGluZyBvbiBteSBpbnRlcm5hbCBzdGF0ZS4ASW50ZXJuYWwgZXJyb3IuIEZpbHRlciBsZW5ndGggdG9vIGxhcmdlLgBJbnRlcm5hbCBlcnJvci4gU0hJRlRfQklUUyB0b28gbGFyZ2UuAFNSQyByYXRpbyBvdXRzaWRlIFsxLzI1NiwgMjU2XSByYW5nZS4ATWFsbG9jIGZhaWxlZC4ASW50ZXJuYWwgZXJyb3IuIE5vIHByaXZhdGUgZGF0YS4AU3VwcGxpZWQgY2FsbGJhY2sgZnVuY3Rpb24gcG9pbnRlciBpcyBOVUxMLgBTUkNfU1RBVEUgcG9pbnRlciBpcyBOVUxMLgBTUkNfREFUQSBwb2ludGVyIGlzIE5VTEwuAFNSQ19EQVRBLT5kYXRhX291dCBvciBTUkNfREFUQS0+ZGF0YV9pbiBpcyBOVUxMLgBDaGFubmVsIGNvdW50IG11c3QgYmUgPj0gMS4AQ2FsbGluZyBtb2RlIGRpZmZlcnMgZnJvbSBpbml0aWFsaXNhdGlvbiBtb2RlIChpZSBwcm9jZXNzIHYgY2FsbGJhY2spLgBDYWxsYmFjayBmdW5jdGlvbiBwb2ludGVyIGlzIE5VTEwgaW4gc3JjX2NhbGxiYWNrX3JlYWQgKCkuAEludGVybmFsIGVycm9yIDogQmFkIGxlbmd0aCBpbiBwcmVwYXJlX2RhdGEgKCkuAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAAEg4AACKCwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAEg4AADUCwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAAEg4AAAcDAAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURzTlNfMTFjaGFyX3RyYWl0c0lEc0VFTlNfOWFsbG9jYXRvcklEc0VFRUUAAABIOAAAZAwAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEaU5TXzExY2hhcl90cmFpdHNJRGlFRU5TXzlhbGxvY2F0b3JJRGlFRUVFAAAASDgAALAMAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUAAEg4AAD8DAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJYUVFAABIOAAAJA0AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQAASDgAAEwNAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lzRUUAAEg4AAB0DQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJdEVFAABIOAAAnA0AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWlFRQAASDgAAMQNAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lqRUUAAEg4AADsDQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJbEVFAABIOAAAFA4AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SW1FRQAASDgAADwOAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l4RUUAAEg4AABkDgAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJeUVFAABIOAAAjA4AAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWRFRQAASDgAALQOAAAAAAAA5DcAAOQ3AADkNwAA5DcAAOQ3AABpcGlpaWkAABgPAADkNwAATjEwZW1zY3JpcHRlbjN2YWxFAABIOAAABA8AAHBwaQ=="),i(t,3888,"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"),i(t,14700,"DgAAAA4AAAAPAAAAEAAAABEAAAASAAAAEgAAAA8AAAAQAAAAEQAAABMAAAATAAAADwAAABAAAAARAAAAFAAAABQAAAAPAAAAEAAAABEAAAAVAAAAFQAAAA8AAAAQAAAAEQAAABYAAAAWAAAAFwAAABgAAAAZAAAAGgAAABoAAAAbAAAAHAAAAB0AAAAASXw=");var ep,ev=((ep=[null,M,function(){m(1084,5,3808,3828,3,4,0),m(1044,2,3836,3872,5,6,0),m(1032,2,3836,3872,5,7,0),m(1225,6,3888,3912,8,9,0),m(1138,6,3888,3912,8,10,0),m(1024,1,3920,3924,11,12,0)},function(e,t,r,n,i){return t|=0,r|=0,n|=0,i|=0,0|ev[0|(e|=0)](t,r,n,i)},function(e,t,r,n){e|=0,t|=0,r|=0,n|=0,f[1009863]=+(0|n)/+(0|r),n=et(4),I=r=I-16|0;e:{switch(t-2|0){case 0:e=V(e,r+12|0);break e;case 1:e=H(e,r+12|0);break e;case 2:e=K(e,r+12|0);break e}a[r+12>>2]=10,e=0}return n&&(a[n>>2]=a[r+12>>2]),I=r+16|0,a[2019716]=e,e=a[n>>2],D(n),0|e},function(e,t){var r;return t|=0,I=r=I-16|0,ev[0|(e|=0)](r+8|0,t),I=r+16|0,a[r+12>>2]},function(e,t){var r,n,i;e|=0,t|=0,I=r=I-16|0,a[r+12>>2]=14864,a[r+8>>2]=t,n=e,i=0|x(3960,r+8|0),a[n+4>>2]=i,a[e>>2]=8078976,I=r+16|0},function(e,t){var r,n,i;e|=0,t|=0,I=r=I-16|0,a[r+12>>2]=4046864,a[r+8>>2]=t,n=e,i=0|x(3960,r+8|0),a[n+4>>2]=i,a[e>>2]=8078976,I=r+16|0},function(e,t,r,n,i,o){return t|=0,r|=0,n|=0,i|=0,o|=0,0|ev[0|(e|=0)](t,r,n,i,o)},function(e,t,r,i,s){var u,l,c;e|=0,t|=0,r|=0,i|=0,s|=0,I=u=I-16|0,a[2019721]=1008e3/(0|t),a[2019720]=(0|e)/(0|t),f[1009863]=+(0|s)/+(0|i),I=i=I-16|0;e:{t:{switch(r-2|0){case 1:e=H(t,i+12|0);break t;case 2:e=K(t,i+12|0);break t;default:t=10;break e;case 0:}e=V(t,i+12|0)}e?(a[2019724]=1,t=Z(e),ev[a[a[e>>2]+16>>2]](e)):t=a[i+12>>2]}if(I=i+16|0,(s=J(r=t>>>0<=23?a[3968+(t<<2)>>2]:0))>>>0<0x7ffffff8){e:{if(s>>>0>=11)e=et(i=1+(7|s)|0),a[u+12>>2]=-0x80000000|i,a[u+4>>2]=e;else if(n[u+15|0]=s,e=u+4|0,!s)break e;U(e,r,s)}return n[e+s|0]=0,e=a[2019723],n[u+15|0]<0&&D(a[u+4>>2]),I=u+16|0,0|(t||e)}a[(r=z(88)+80|0)>>2]=14540,a[r>>2]=14584,a[(e=et((t=J(1170))+13|0))+8>>2]=0,a[e+4>>2]=t,a[e>>2]=t,l=r,c=W(e+12|0,1170,t+1|0),a[l+4>>2]=c,a[r>>2]=14632,C(0|r,14664,13),o()},function(e,t,r,n,i){return e|=0,t|=0,a[2019721]=1008e3/(0|t),a[2019720]=(0|e)/(0|t),0|((e=Z(a[2019716]))||a[2019723])},function(e){ev[0|(e|=0)]()},function(){var e;(e=a[2019716])&&ev[a[a[e>>2]+16>>2]](e)},en,function(e,t){e|=0,t|=0;var r=0,n=0,i=0,o=0,s=0,u=0,l=0,v=0,y=0,b=0,A=0,g=0,m=0,w=h(0),k=0,S=0,O=0,x=0,T=0,P=0,E=0,C=0;if(!(n=a[e+52>>2]))return 5;o=a[e+28>>2],a[n+4>>2]=d(o,a[t+8>>2]),i=a[t+12>>2],a[n+16>>2]=0,a[n+8>>2]=0,u=d(o,i),a[n+12>>2]=u,l=22;e:if(!((b=f[e+8>>3])<.00390625|b>256)){if(k=f[t+32>>3],y=a[n+52>>2],v=0x80000000>p(s=ei(r=f[e+16>>3]))?~~s:-0x80000000,i=0x80000000>p(r=ei((s=r)-(g=(r-=+(0|v))<0?r+1:r)))?~~r:-0x80000000,m=a[n+64>>2],y=(y+d(i,o)|0)%(0|m)|0,a[n+52>>2]=y,s=(+a[n+20>>2]+2)/+a[n+24>>2],i=0x80000000>p(r=ei((r=b<k?b:k)<1?s/r:s))?~~r:-0x80000000,l=0,(0|u)<=0)n=0;else{for(O=d(i+1|0,o),k=1/b+1e-20,x=a[n+56>>2];;){t:{if((0|O)>=(((x-y|0)+m|0)%(0|m)|0)){if(l=L(n,o,t,O),a[e+24>>2]=l,l)break e;if((0|O)>=(((m=a[n+64>>2])+((x=a[n+56>>2])-(y=a[n+52>>2])|0)|0)%(0|m)|0))break t}if(!((0|(i=a[n+60>>2]))>=0&+(i>>>0)<k+(g+ +(0|y)))){if((0|(T=a[n+12>>2]))<=0||(s=f[e+8>>3],p(s-(r=f[t+32>>3]))>1e-10&&(b=s+(r-s)*+a[n+16>>2]/+(T>>>0))),C=a[n+20>>2]<<12,v=C-(u=0x80000000>p(r=ei(g*(P=(b<1?b:1)*(s=+a[n+24>>2]))*4096))?~~r:-0x80000000)|0,A=y-(v=(0|v)/(0|(i=0x80000000>p(r=ei(4096*P))?~~r:-0x80000000))|0)|0,(0|(o=(d(i,v)+u|0)+(d(i,A)&A>>31)|0))<0)E=a[n+2120>>2],A=a[n+48>>2],S=0;else for(l=(0|A)>0?A:0,E=a[n+2120>>2],A=a[n+48>>2],S=0;w=c[(v=(o>>>10&4194300)+A|0)>>2],S=(244140625e-12*+((4095&o)>>>0)*+h(c[v+4>>2]-w)+ +w)*+c[(l<<2)+E>>2]+S,l=l+1|0,(0|(o=o-i|0))>=0;);for(r=P/s,o=d(u=(C-(v=i-u|0)|0)/(0|i)|0,i)+v|0,l=1+(u+y|0)|0,s=0;w=c[(u=(o>>12<<2)+A|0)>>2],s=(244140625e-12*+((4095&o)>>>0)*+h(c[u+4>>2]-w)+ +w)*+c[(l<<2)+E>>2]+s,l=l-1|0,(0|(o=o-i|0))>0;);if(i=a[n+16>>2],c[a[t+4>>2]+(i<<2)>>2]=r*(S+s),i=i+1|0,a[n+16>>2]=i,r=ei(s=g+1/b),r=ei(s-(g=(r=s-+(0|(u=0x80000000>p(r)?~~r:-0x80000000)))<0?r+1:r)),u=0x80000000>p(r)?~~r:-0x80000000,y=(d(u,o=a[e+28>>2])+y|0)%(0|m)|0,a[n+52>>2]=y,(0|i)<(0|T))continue}}break}l=a[n+16>>2],o=a[e+28>>2],n=a[n+8>>2]}f[e+8>>3]=b,f[e+16>>3]=g,a[t+20>>2]=(0|l)/(0|o),a[t+16>>2]=(0|n)/(0|o),l=0}return 0|l},function(e){var t;(t=a[52+(e|=0)>>2])&&(a[t+60>>2]=-1,a[t+52>>2]=0,a[t+56>>2]=0,a[t+32>>2]=0,a[t+36>>2]=0,a[t+40>>2]=0,a[t+44>>2]=0,q(a[t+2120>>2],0,a[t+64>>2]<<2),q(a[t+2120>>2]+(a[t+64>>2]<<2)|0,170,a[e+28>>2]<<2))},function(e){var t,r=0,n=0,i=0;if((t=a[52+(e|=0)>>2])&&(n=er(1,56))){if(r=a[e+4>>2],a[n>>2]=a[e>>2],a[n+4>>2]=r,r=a[e+52>>2],a[n+48>>2]=a[e+48>>2],a[n+52>>2]=r,r=a[e+44>>2],a[n+40>>2]=a[e+40>>2],a[n+44>>2]=r,r=a[e+36>>2],a[n+32>>2]=a[e+32>>2],a[n+36>>2]=r,r=a[e+28>>2],a[n+24>>2]=a[e+24>>2],a[n+28>>2]=r,r=a[e+20>>2],a[n+16>>2]=a[e+16>>2],a[n+20>>2]=r,r=a[e+12>>2],a[n+8>>2]=a[e+8>>2],a[n+12>>2]=r,!(r=er(1,2128)))return D(n),0;if(i=W(r,t,2128),r=z(e=a[e+28>>2]+a[t+64>>2]<<2),a[i+2120>>2]=r,!r)return D(n),D(i),0;W(r,a[t+2120>>2],e),a[n+52>>2]=i,r=n}return 0|r},function(e){var t=0,r=0;(e|=0)&&((t=a[e+52>>2])&&((r=a[t+2120>>2])&&D(r),D(t)),D(e))},function(e,t){e|=0,t|=0;var r=0,n=0,i=0,o=0,s=0,u=0,l=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=h(0),S=0,O=0,x=0,T=0,P=0,E=0,C=0,j=0,B=0,R=0,_=0,I=0;if(!(n=a[e+52>>2]))return 5;v=a[e+28>>2],a[n+4>>2]=d(v,a[t+8>>2]),i=a[t+12>>2],a[n+16>>2]=0,a[n+8>>2]=0,s=d(i,v),a[n+12>>2]=s,o=22;e:if(!((b=f[e+8>>3])<.00390625|b>256)){if(S=f[t+32>>3],O=a[n+52>>2],l=0x80000000>p(u=ei(r=f[e+16>>3]))?~~u:-0x80000000,i=0x80000000>p(r=ei((u=r)-(g=(r-=+(0|l))<0?r+1:r)))?~~r:-0x80000000,m=a[n+64>>2],A=(O+d(i,v)|0)%(0|m)|0,a[n+52>>2]=A,u=(+a[n+20>>2]+2)/+a[n+24>>2],i=0x80000000>p(r=ei((r=b<S?b:S)<1?u/r:u))?~~r:-0x80000000,o=0,(0|s)<=0)n=0;else{for(P=d(i+1|0,v),S=1/b+1e-20,E=a[n+56>>2];;){t:{if((((E-A|0)+m|0)%(0|m)|0)<=(0|P)){if(o=L(n,v,t,P),a[e+24>>2]=o,o)break e;if((((m=a[n+64>>2])+((E=a[n+56>>2])-(A=a[n+52>>2])|0)|0)%(0|m)|0)<=(0|P))break t}if(!((0|(i=a[n+60>>2]))>=0&+(i>>>0)<=S+(g+ +(0|A)))){if((0|(C=a[n+12>>2]))<=0?x=a[n+16>>2]:(x=a[n+16>>2],u=f[e+8>>3],p(u-(r=f[t+32>>3]))>1e-10&&(b=u+(r-u)*+(0|x)/+(C>>>0))),O=a[n+20>>2]<<12,l=O-(s=0x80000000>p(r=ei(g*(w=(b<1?b:1)*(u=+a[n+24>>2]))*4096))?~~r:-0x80000000)|0,o=d(i=0x80000000>p(r=ei(4096*w))?~~r:-0x80000000,l=(0|l)/(0|i)|0)+s|0,T=a[t+4>>2],_=a[n+2120>>2],I=a[n+48>>2],j=0,B=0,R=0,(0|(y=A-d(l,v=a[e+28>>2])|0))<0&&(y=((l=(1-y|0)/2|0)<<1)+y|0,o=o-d(i,l)|0),(0|o)>=0)for(;k=c[(l=(o>>>10&4194300)+I|0)>>2],B=(r=244140625e-12*+((4095&o)>>>0)*+h(c[l+4>>2]-k)+ +k)*+c[4+(l=_+(y<<2)|0)>>2]+B,R=r*+c[l>>2]+R,y=y+2|0,(0|(o=o-i|0))>=0;);for(T=(x<<2)+T|0,u=w/u,o=d(s=(O-(l=i-s|0)|0)/(0|i)|0,i)+l|0,y=d(s+1|0,v)+A|0,w=0;k=c[(s=(o>>12<<2)+I|0)>>2],j=(r=244140625e-12*+((4095&o)>>>0)*+h(c[s+4>>2]-k)+ +k)*+c[4+(s=_+(y<<2)|0)>>2]+j,w=r*+c[s>>2]+w,y=y-2|0,(0|(o=o-i|0))>0;);if(c[T+4>>2]=u*(B+j),c[T>>2]=u*(R+w),i=x+2|0,a[n+16>>2]=i,s=0x80000000>p(u=ei(r=g+1/b))?~~u:-0x80000000,A=(d(s=0x80000000>p(r=ei((u=r)-(g=(r-=+(0|s))<0?r+1:r)))?~~r:-0x80000000,v)+A|0)%(0|m)|0,a[n+52>>2]=A,(0|i)<(0|C))continue}}break}o=a[n+16>>2],v=a[e+28>>2],n=a[n+8>>2]}f[e+8>>3]=b,f[e+16>>3]=g,a[t+20>>2]=(0|o)/(0|v),a[t+16>>2]=(0|n)/(0|v),o=0}return 0|o},function(e,t){e|=0,t|=0;var r=0,n=0,i=0,o=0,s=0,u=0,l=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=0,S=h(0),O=0,x=0,T=0,P=0,E=0,C=0,j=0,B=0,R=0,_=0,I=0,N=0,z=0,D=0,W=0;if(!(n=a[e+52>>2]))return 5;v=a[e+28>>2],a[n+4>>2]=d(v,a[t+8>>2]),o=a[t+12>>2],a[n+16>>2]=0,a[n+8>>2]=0,i=d(o,v),a[n+12>>2]=i,s=22;e:if(!((b=f[e+8>>3])<.00390625|b>256)){if(O=f[t+32>>3],x=a[n+52>>2],l=0x80000000>p(u=ei(r=f[e+16>>3]))?~~u:-0x80000000,o=0x80000000>p(r=ei((u=r)-(g=(r-=+(0|l))<0?r+1:r)))?~~r:-0x80000000,m=a[n+64>>2],A=(x+d(o,v)|0)%(0|m)|0,a[n+52>>2]=A,u=(+a[n+20>>2]+2)/+a[n+24>>2],o=0x80000000>p(r=ei((r=b<O?b:O)<1?u/r:u))?~~r:-0x80000000,s=0,(0|i)<=0)n=0;else{for(E=d(o+1|0,v),O=1/b+1e-20,C=a[n+56>>2];;){t:{if((((C-A|0)+m|0)%(0|m)|0)<=(0|E)){if(s=L(n,v,t,E),a[e+24>>2]=s,s)break e;if((((m=a[n+64>>2])+((C=a[n+56>>2])-(A=a[n+52>>2])|0)|0)%(0|m)|0)<=(0|E))break t}if(!((0|(o=a[n+60>>2]))>=0&+(o>>>0)<=O+(g+ +(0|A)))){if((0|(j=a[n+12>>2]))<=0?T=a[n+16>>2]:(T=a[n+16>>2],u=f[e+8>>3],p(u-(r=f[t+32>>3]))>1e-10&&(b=u+(r-u)*+(0|T)/+(j>>>0))),x=a[n+20>>2]<<12,l=x-(i=0x80000000>p(r=ei(g*(w=(b<1?b:1)*(u=+a[n+24>>2]))*4096))?~~r:-0x80000000)|0,s=d(o=0x80000000>p(r=ei(4096*w))?~~r:-0x80000000,l=(0|l)/(0|o)|0)+i|0,k=a[t+4>>2],D=a[n+2120>>2],W=a[n+48>>2],B=0,R=0,_=0,I=0,N=0,(0|(y=A-d(l,v=a[e+28>>2])|0))<0&&(y=((l=(3-y|0)/4|0)<<2)+y|0,s=s-d(o,l)|0),(0|s)>=0)for(;S=c[(l=(s>>>10&4194300)+W|0)>>2],R=(r=244140625e-12*+((4095&s)>>>0)*+h(c[l+4>>2]-S)+ +S)*+c[12+(l=(y<<2)+D|0)>>2]+R,_=r*+c[l+8>>2]+_,I=r*+c[l+4>>2]+I,N=r*+c[l>>2]+N,y=y+4|0,(0|(s=s-o|0))>=0;);for(k=(T<<2)+k|0,P=w/u,s=d(i=(x-(l=o-i|0)|0)/(0|o)|0,o)+l|0,y=d(i+1|0,v)+A|0,z=0,w=0,u=0;S=c[(i=(s>>12<<2)+W|0)>>2],B=(r=244140625e-12*+((4095&s)>>>0)*+h(c[i+4>>2]-S)+ +S)*+c[12+(i=(y<<2)+D|0)>>2]+B,z=r*+c[i+8>>2]+z,w=r*+c[i+4>>2]+w,u=r*+c[i>>2]+u,y=y-4|0,(0|(s=s-o|0))>0;);if(c[k+12>>2]=P*(R+B),c[k+8>>2]=P*(_+z),c[k+4>>2]=P*(I+w),c[k>>2]=P*(N+u),o=T+4|0,a[n+16>>2]=o,i=0x80000000>p(u=ei(r=g+1/b))?~~u:-0x80000000,A=(d(i=0x80000000>p(r=ei((u=r)-(g=(r-=+(0|i))<0?r+1:r)))?~~r:-0x80000000,v)+A|0)%(0|m)|0,a[n+52>>2]=A,(0|o)<(0|j))continue}}break}s=a[n+16>>2],v=a[e+28>>2],n=a[n+8>>2]}f[e+8>>3]=b,f[e+16>>3]=g,a[t+20>>2]=(0|s)/(0|v),a[t+16>>2]=(0|n)/(0|v),s=0}return 0|s},function(e,t){e|=0,t|=0;var r=0,n=0,i=0,o=0,s=0,u=0,l=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=0,S=0,O=0,x=h(0),T=0,P=0,E=0,C=0,j=0,B=0,R=0,_=0,I=0,N=0,z=0,D=0,W=0,F=0,M=0,U=0,q=0;if(!(n=a[e+52>>2]))return 5;y=a[e+28>>2],a[n+4>>2]=d(y,a[t+8>>2]),o=a[t+12>>2],a[n+16>>2]=0,a[n+8>>2]=0,i=d(o,y),a[n+12>>2]=i,l=22;e:if(!((b=f[e+8>>3])<.00390625|b>256)){if(T=f[t+32>>3],P=a[n+52>>2],u=0x80000000>p(s=ei(r=f[e+16>>3]))?~~s:-0x80000000,o=0x80000000>p(r=ei((s=r)-(m=(r-=+(0|u))<0?r+1:r)))?~~r:-0x80000000,w=a[n+64>>2],A=(P+d(o,y)|0)%(0|w)|0,a[n+52>>2]=A,s=(+a[n+20>>2]+2)/+a[n+24>>2],o=0x80000000>p(r=ei((r=b<T?b:T)<1?s/r:s))?~~r:-0x80000000,l=0,(0|i)<=0)n=0;else{for(C=d(o+1|0,y),T=1/b+1e-20,j=a[n+56>>2];;){t:{if((((j-A|0)+w|0)%(0|w)|0)<=(0|C)){if(l=L(n,y,t,C),a[e+24>>2]=l,l)break e;if((((w=a[n+64>>2])+((j=a[n+56>>2])-(A=a[n+52>>2])|0)|0)%(0|w)|0)<=(0|C))break t}if(!((0|(o=a[n+60>>2]))>=0&+(o>>>0)<=T+(m+ +(0|A)))){if((0|(B=a[n+12>>2]))<=0?E=a[n+16>>2]:(E=a[n+16>>2],s=f[e+8>>3],p(s-(r=f[t+32>>3]))>1e-10&&(b=s+(r-s)*+(0|E)/+(B>>>0))),P=a[n+20>>2]<<12,u=P-(i=0x80000000>p(r=ei(m*(k=(b<1?b:1)*(s=+a[n+24>>2]))*4096))?~~r:-0x80000000)|0,v=d(o=0x80000000>p(r=ei(4096*k))?~~r:-0x80000000,u=(0|u)/(0|o)|0)+i|0,g=a[t+4>>2],U=a[n+2120>>2],q=a[n+48>>2],R=0,_=0,I=0,N=0,z=0,D=0,W=0,(0|(l=A-d(u,y=a[e+28>>2])|0))<0&&(l=d(u=(5-l|0)/6|0,6)+l|0,v=v-d(u,o)|0),(0|v)>=0)for(;x=c[(u=(v>>>10&4194300)+q|0)>>2],_=(r=244140625e-12*+((4095&v)>>>0)*+h(c[u+4>>2]-x)+ +x)*+c[20+(u=(l<<2)+U|0)>>2]+_,I=r*+c[u+16>>2]+I,N=r*+c[u+12>>2]+N,z=r*+c[u+8>>2]+z,D=r*+c[u+4>>2]+D,W=r*+c[u>>2]+W,l=l+6|0,(0|(v=v-o|0))>=0;);for(g=(E<<2)+g|0,S=k/s,v=d(i=(P-(u=o-i|0)|0)/(0|o)|0,o)+u|0,l=d(i+1|0,y)+A|0,F=0,M=0,k=0,s=0,r=0;x=c[(i=(v>>12<<2)+q|0)>>2],R=(O=244140625e-12*+((4095&v)>>>0)*+h(c[i+4>>2]-x)+ +x)*+c[20+(i=(l<<2)+U|0)>>2]+R,F=O*+c[i+16>>2]+F,M=O*+c[i+12>>2]+M,k=O*+c[i+8>>2]+k,s=O*+c[i+4>>2]+s,r=O*+c[i>>2]+r,l=l-6|0,(0|(v=v-o|0))>0;);if(c[g+20>>2]=S*(_+R),c[g+16>>2]=S*(I+F),c[g+12>>2]=S*(N+M),c[g+8>>2]=S*(z+k),c[g+4>>2]=S*(D+s),c[g>>2]=S*(W+r),o=E+6|0,a[n+16>>2]=o,i=0x80000000>p(s=ei(r=m+1/b))?~~s:-0x80000000,A=(d(i=0x80000000>p(r=ei((s=r)-(m=(r-=+(0|i))<0?r+1:r)))?~~r:-0x80000000,y)+A|0)%(0|w)|0,a[n+52>>2]=A,(0|o)<(0|B))continue}}break}l=a[n+16>>2],y=a[e+28>>2],n=a[n+8>>2]}f[e+8>>3]=b,f[e+16>>3]=m,a[t+20>>2]=(0|l)/(0|y),a[t+16>>2]=(0|n)/(0|y),l=0}return 0|l},function(e,t){e|=0,t|=0;var r=0,n=0,i=0,o=0,s=0,u=0,l=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=0,S=0,O=0,x=0,T=0,P=0,E=0,C=h(0),j=0,B=0,R=0,_=0,I=0,N=0,z=0,D=0,W=0,F=0,M=0;if(!(i=a[e+52>>2]))return 5;r=a[e+28>>2],a[i+4>>2]=d(r,a[t+8>>2]),n=a[t+12>>2],a[i+16>>2]=0,a[i+8>>2]=0,v=d(r,n),a[i+12>>2]=v,s=22;e:if(!((g=f[e+8>>3])<.00390625|g>256)){if(o=f[t+32>>3],s=a[i+52>>2],n=0x80000000>p(l=ei(u=f[e+16>>3]))?~~l:-0x80000000,n=0x80000000>p(l=ei((l=u)-(u=(u-=+(0|n))<0?u+1:u)))?~~l:-0x80000000,S=a[i+64>>2],m=(s+d(n,r)|0)%(0|S)|0,a[i+52>>2]=m,l=(+a[i+20>>2]+2)/+a[i+24>>2],n=0x80000000>p(o=ei((o=o>g?g:o)<1?l/o:l))?~~o:-0x80000000,s=0,(0|v)<=0)i=0;else{R=d(n+1|0,r),W=1/g+1e-20,F=i+1096|0,M=i+72|0,_=a[i+56>>2];t:for(;;){r:{if((((_-m|0)+S|0)%(0|S)|0)<=(0|R)){if(s=L(i,r,t,R),a[e+24>>2]=s,s)break e;if((((S=a[i+64>>2])+((_=a[i+56>>2])-(m=a[i+52>>2])|0)|0)%(0|S)|0)<=(0|R))break r}if(!((0|(n=a[i+60>>2]))>=0&+(n>>>0)<=W+(u+ +(0|m)))){if((0|(I=a[i+12>>2]))<=0?j=a[i+16>>2]:(j=a[i+16>>2],o=f[e+8>>3],p(o-(l=f[t+32>>3]))>1e-10&&(g=o+(l-o)*+(0|j)/+(I>>>0))),P=a[i+20>>2]<<12,r=P-(s=0x80000000>p(o=ei(u*(l=(g<1?g:1)*(N=+a[i+24>>2]))*4096))?~~o:-0x80000000)|0,b=d(n=0x80000000>p(o=ei(4096*l))?~~o:-0x80000000,r=(0|r)/(0|n)|0)+s|0,B=a[t+4>>2],(0|(y=m-d(v=a[e+28>>2],r)|0))<0&&(y=d(r=(v+~y|0)/(0|v)|0,v)+y|0,b=b-d(r,n)|0),T=q(M,0,E=v<<3),z=a[i+48>>2],(0|b)>=0)for(w=0x7ffffffe&v,O=1&v;;){if(!((0|v)<=0)){if(C=c[(r=(b>>>10&4194300)+z|0)>>2],o=244140625e-12*+((4095&b)>>>0)*+h(c[r+4>>2]-C)+ +C,x=a[i+2120>>2]+(y<<2)|0,r=0,A=0,1!=(0|v))for(;f[(k=(r<<3)+T|0)>>3]=o*+c[x+(r<<2)>>2]+f[k>>3],f[(D=((k=1|r)<<3)+T|0)>>3]=o*+c[x+(k<<2)>>2]+f[D>>3],r=r+2|0,(0|w)!=(0|(A=A+2|0)););O&&(f[(A=(r<<3)+T|0)>>3]=o*+c[x+(r<<2)>>2]+f[A>>3])}if(y=v+y|0,!((0|(b=b-n|0))>=0))break}for(x=(j<<2)+B|0,o=l/N,b=q(F,0,E),y=d(r=(P-(s=n-s|0)|0)/(0|n)|0,n)+s|0,P=0x7ffffffe&v,B=1&v,E=v-1|0,A=d(v,r+1|0)+m|0;;){n:{i:{o:{s:{if((0|v)>0){if(C=c[(s=(y>>12<<2)+z|0)>>2],l=244140625e-12*+((4095&y)>>>0)*+h(c[s+4>>2]-C)+ +C,s=a[i+2120>>2]+(A<<2)|0,r=0,w=0,E)break s;break o}if((0|(y=y-n|0))<=0)break i;break n}for(;f[(O=b+(r<<3)|0)>>3]=l*+c[s+(r<<2)>>2]+f[O>>3],f[(k=b+((O=1|r)<<3)|0)>>3]=l*+c[s+(O<<2)>>2]+f[k>>3],r=r+2|0,(0|P)!=(0|(w=w+2|0)););}if(B&&(f[(w=b+(r<<3)|0)>>3]=l*+c[s+(r<<2)>>2]+f[w>>3]),(0|(y=y-n|0))>0)break n;if(r=0,E)for(A=0;n=r<<3,c[x+(r<<2)>>2]=o*(f[n+T>>3]+f[n+b>>3]),n=(s=1|r)<<3,c[x+(s<<2)>>2]=o*(f[n+T>>3]+f[n+b>>3]),r=r+2|0,(0|P)!=(0|(A=A+2|0)););B&&(n=r<<3,c[x+(r<<2)>>2]=o*(f[n+T>>3]+f[n+b>>3]))}if(s=j+(r=a[e+28>>2])|0,a[i+16>>2]=s,o=ei(u+=1/g),o=ei((l=u)-(u=(u-=+(0|(n=0x80000000>p(o)?~~o:-0x80000000)))<0?u+1:u)),m=(d(n=0x80000000>p(o)?~~o:-0x80000000,r)+m|0)%(0|S)|0,a[i+52>>2]=m,(0|s)<(0|I))continue t;break r}A=A-v|0}}}break}s=a[i+16>>2],r=a[e+28>>2],i=a[i+8>>2]}f[e+8>>3]=g,f[e+16>>3]=u,a[t+20>>2]=(0|s)/(0|r),a[t+16>>2]=(0|i)/(0|r),s=0}return 0|s},function(e,t){e|=0;var r=0,i=0,o=0,s=0,l=0,h=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=0,S=0,O=0,x=0,T=0,P=0,E=0,C=0,j=0,B=0,R=0,_=0,I=0,N=0;e:{if((0|(A=a[8+(t|=0)>>2]))>0){if(!(y=a[e+52>>2]))return 5;if(s=a[e+28>>2],!u[y+4|0]){if(!((0|s)<=0)){if(g=a[y+24>>2],o=a[t>>2],s-1>>>0>=3)for(w=0x7ffffffc&s;c[(r=l<<2)+g>>2]=c[r+o>>2],c[(v=4|r)+g>>2]=c[o+v>>2],c[(v=8|r)+g>>2]=c[o+v>>2],c[(r|=12)+g>>2]=c[r+o>>2],l=l+4|0,(0|w)!=(0|(b=b+4|0)););if(r=3&s)for(;c[(b=l<<2)+g>>2]=c[o+b>>2],l=l+1|0,(0|r)!=(0|(h=h+1|0)););}n[y+4|0]=1}if(g=d(s,A),a[y+8>>2]=g,o=a[t+12>>2],a[y+20>>2]=0,a[y+12>>2]=0,b=d(o,s),a[y+16>>2]=b,r=22,(k=f[e+8>>3])<.00390625|k>256)break e;I=+(0|s),l=0;t:if((i=f[e+16>>3])<1)for(P=0x7ffffffc&s,O=3&s,S=+(b>>>0),E=+(0|g),C=(0|b)<=0,j=s>>>0<4,x=k;;){if((0|l)>=(0|b)|E<=I*i+0)break t;if(C||p(k-(m=f[t+32>>3]))>1e-20&&(x=k+(m-k)*+(0|l)/S),(0|s)>0){if(o=a[t+4>>2],T=a[y+24>>2],h=0,j)r=0;else for(B=o+12|0,R=o+8|0,_=o+4|0,r=0,A=0;v=T+(r<<2)|0,c[(w=l<<2)+o>>2]=c[v>>2],c[w+_>>2]=c[v+4>>2],c[w+R>>2]=c[v+8>>2],c[w+B>>2]=c[v+12>>2],r=r+4|0,l=l+4|0,(0|P)!=(0|(A=A+4|0)););if(O)for(;c[o+(l<<2)>>2]=c[T+(r<<2)>>2],r=r+1|0,l=l+1|0,(0|O)!=(0|(h=h+1|0)););a[y+20>>2]=l}if(!((i+=1/x)<1))break}else x=k;m=i,S=ei(i),S=ei(m-(i=(i-=+(0|(r=0x80000000>p(S)?~~S:-0x80000000)))<0?i+1:i)),o=d(r=0x80000000>p(S)?~~S:-0x80000000,s);t:if(!((0|l)>=(0|b)))for(C=0x7ffffffc&s,T=3&s,S=+(b>>>0),E=+(0|g),j=(0|b)<=0,B=s>>>0<4;;){if(!(E>=I*i+ +(0|o)))break t;if(j||p(k-(m=f[t+32>>3]))>1e-20&&(x=k+(m-k)*+(0|l)/S),(0|s)>0){if(P=a[t>>2]+(o-s<<2)|0,w=a[t+4>>2],h=0,B)r=0;else for(R=w+12|0,_=w+8|0,N=w+4|0,r=0,A=0;O=P+(r<<2)|0,c[(v=l<<2)+w>>2]=c[O>>2],c[v+N>>2]=c[O+4>>2],c[v+_>>2]=c[O+8>>2],c[v+R>>2]=c[O+12>>2],r=r+4|0,l=l+4|0,(0|C)!=(0|(A=A+4|0)););if(T)for(;c[w+(l<<2)>>2]=c[P+(r<<2)>>2],r=r+1|0,l=l+1|0,(0|T)!=(0|(h=h+1|0)););a[y+20>>2]=l}if(r=0x80000000>p(m=ei(i+=1/x))?~~m:-0x80000000,o=d(r=0x80000000>p(m=ei((m=i)-(i=(i-=+(0|r))<0?i+1:i)))?~~m:-0x80000000,s)+o|0,!((0|l)<(0|b)))break}if((0|o)<=(0|g)?g=o:i+=+((o-g|0)/(0|s)|0),a[y+12>>2]=g,f[e+16>>3]=i,!((0|g)<=0|(0|s)<=0)){if(o=a[t>>2]+(g-s<<2)|0,y=a[y+24>>2],b=0,r=0,s>>>0>=4)for(w=0x7ffffffc&s,A=0;c[(h=r<<2)+y>>2]=c[o+h>>2],c[(v=4|h)+y>>2]=c[o+v>>2],c[(v=8|h)+y>>2]=c[o+v>>2],c[(h|=12)+y>>2]=c[o+h>>2],r=r+4|0,(0|w)!=(0|(A=A+4|0)););if(A=3&s)for(;c[(h=r<<2)+y>>2]=c[o+h>>2],r=r+1|0,(0|A)!=(0|(b=b+1|0)););}f[e+8>>3]=x,a[t+20>>2]=(0|l)/(0|s),a[t+16>>2]=(0|g)/(0|s)}r=0}return 0|r},es,G,eo,function(e,t){e|=0;var r=0,i=0,o=0,s=0,l=0,h=0,v=0,y=0,b=0,A=0,g=0,m=0,w=0,k=0,S=0,O=0,x=0,T=0,P=0,E=0,C=0,j=0,B=0,R=0;e:{if((0|(v=a[8+(t|=0)>>2]))>0){if(!(y=a[e+52>>2]))return 5;if(s=a[e+28>>2],!u[y+4|0]){if(!((0|s)<=0)){if(g=a[y+24>>2],l=a[t>>2],s-1>>>0>=3)for(m=0x7ffffffc&s;c[(r=h<<2)+g>>2]=c[r+l>>2],c[(w=4|r)+g>>2]=c[l+w>>2],c[(w=8|r)+g>>2]=c[l+w>>2],c[(r|=12)+g>>2]=c[r+l>>2],h=h+4|0,(0|m)!=(0|(A=A+4|0)););if(r=3&s)for(;c[(A=h<<2)+g>>2]=c[l+A>>2],h=h+1|0,(0|r)!=(0|(b=b+1|0)););}n[y+4|0]=1}if(g=d(s,v),a[y+8>>2]=g,l=a[t+12>>2],a[y+20>>2]=0,a[y+12>>2]=0,v=d(s,l),a[y+16>>2]=v,r=22,(k=f[e+8>>3])<.00390625|k>256)break e;B=+(0|s),h=0;t:if((i=f[e+16>>3])<1)for(S=0x7ffffffe&s,T=1&s,P=+(v>>>0),E=+(0|g),O=k;;){if((0|h)>=(0|v)|E<=B*(i+1)+0)break t;if((0|v)<=0||p(k-(o=f[t+32>>3]))>1e-20&&(O=k+(o-k)*+(0|h)/P),(0|s)>0){if(l=a[t+4>>2],m=a[t>>2],w=a[y+24>>2],r=0,1!=(0|s))for(C=l+4|0,A=0;o=+c[(b=r<<2)+w>>2],c[(x=h<<2)+l>>2]=i*(+c[m+b>>2]-o)+o,o=+c[(b|=4)+w>>2],c[C+x>>2]=i*(+c[m+b>>2]-o)+o,r=r+2|0,h=h+2|0,(0|S)!=(0|(A=A+2|0)););T&&(o=+c[(r<<=2)+w>>2],c[l+(h<<2)>>2]=i*(+c[r+m>>2]-o)+o,h=h+1|0),a[y+20>>2]=h}if(!((i+=1/O)<1))break}else O=k;j=i,o=ei(i),o=ei(j-(i=(i-=+(0|(r=0x80000000>p(o)?~~o:-0x80000000)))<0?i+1:i)),l=d(r=0x80000000>p(o)?~~o:-0x80000000,s);t:if(!((0|h)>=(0|v)))for(T=0x7ffffffe&s,C=1&s,P=+(v>>>0),E=+(0|g);;){if(!(E>B*i+ +(0|l)))break t;if((0|v)<=0||p(k-(o=f[t+32>>3]))>1e-20&&(O=k+(o-k)*+(0|h)/P),(0|s)>0){if(m=(r=a[t>>2])+(l<<2)|0,w=r+(l-s<<2)|0,b=a[t+4>>2],r=0,1!=(0|s))for(x=b+4|0,A=0;o=+c[(S=r<<2)+w>>2],c[b+(R=h<<2)>>2]=i*(+c[m+S>>2]-o)+o,o=+c[(S|=4)+w>>2],c[x+R>>2]=i*(+c[m+S>>2]-o)+o,r=r+2|0,h=h+2|0,(0|T)!=(0|(A=A+2|0)););C&&(o=+c[(r<<=2)+w>>2],c[b+(h<<2)>>2]=i*(+c[r+m>>2]-o)+o,h=h+1|0),a[y+20>>2]=h}if(o=ei(i+=1/O),o=ei((j=i)-(i=(i-=+(0|(r=0x80000000>p(o)?~~o:-0x80000000)))<0?i+1:i)),l=d(r=0x80000000>p(o)?~~o:-0x80000000,s)+l|0,!((0|h)<(0|v)))break}if((0|l)<=(0|g)?g=l:i+=+((l-g|0)/(0|s)|0),a[y+12>>2]=g,f[e+16>>3]=i,!((0|g)<=0|(0|s)<=0)){if(l=a[t>>2]+(g-s<<2)|0,y=a[y+24>>2],A=0,r=0,s>>>0>=4)for(w=0x7ffffffc&s,m=0;c[(v=r<<2)+y>>2]=c[l+v>>2],c[(b=4|v)+y>>2]=c[l+b>>2],c[(b=8|v)+y>>2]=c[l+b>>2],c[(v|=12)+y>>2]=c[l+v>>2],r=r+4|0,(0|w)!=(0|(m=m+4|0)););if(v=3&s)for(;c[(m=r<<2)+y>>2]=c[l+m>>2],r=r+1|0,(0|v)!=(0|(A=A+1|0)););}f[e+8>>3]=O,a[t+20>>2]=(0|h)/(0|s),a[t+16>>2]=(0|g)/(0|s)}r=0}return 0|r},es,G,eo,ef,ed,eh,eh,function(e,t,r){return 0|Q(e|=0,t|=0,0)},ed,function(e,t,r){r|=0;var i,o=0;return I=i=I+-64|0,o=1,Q(e|=0,t|=0,0)||(o=0,t&&(o=0,(t=F(t,14032))&&(q(i+8|0,0,56),n[i+59|0]=1,a[i+16>>2]=-1,a[i+12>>2]=e,a[i+4>>2]=t,a[i+52>>2]=1,ev[a[a[t>>2]+28>>2]](t,i+4|0,a[r>>2],1),1==(0|(e=a[i+28>>2]))&&(a[r>>2]=a[i+20>>2]),o=1==(0|e)))),I=i- -64|0,0|o},function(e,t,r,n,i,o){r|=0,n|=0,i|=0,o|=0,Q(e|=0,a[8+(t|=0)>>2],o)&&Y(t,r,n,i)},function(e,t,r,i,o){if(r|=0,i|=0,o|=0,Q(e|=0,a[8+(t|=0)>>2],o))1==a[t+28>>2]|a[t+4>>2]!=(0|r)||(a[t+28>>2]=i);else e:if(Q(e,a[t>>2],o)){if(!(a[t+16>>2]!=(0|r)&a[t+20>>2]!=(0|r))){if(1!=(0|i))break e;return void(a[t+32>>2]=1)}a[t+20>>2]=r,a[t+32>>2]=i,a[t+40>>2]=a[t+40>>2]+1,1!=a[t+36>>2]|2!=a[t+24>>2]||(n[t+54|0]=1),a[t+44>>2]=4}},function(e,t,r,n){r|=0,n|=0,Q(e|=0,a[8+(t|=0)>>2],0)&&X(t,r,n)},ed,function(e,t,r,n,i,o){r|=0,n|=0,i|=0,o|=0,Q(e|=0,a[8+(t|=0)>>2],o)?Y(t,r,n,i):(e=a[e+8>>2],ev[a[a[e>>2]+20>>2]](e,t,r,n,i,o))},function(e,t,r,i,o){if(r|=0,i|=0,o|=0,Q(e|=0,a[8+(t|=0)>>2],o))1==a[t+28>>2]|a[t+4>>2]!=(0|r)||(a[t+28>>2]=i);else e:{if(Q(e,a[t>>2],o)){if(!(a[t+16>>2]!=(0|r)&a[t+20>>2]!=(0|r))){if(1!=(0|i))break e;return void(a[t+32>>2]=1)}a[t+32>>2]=i;t:if(4!=a[t+44>>2]){if(s[t+52>>1]=0,e=a[e+8>>2],ev[a[a[e>>2]+20>>2]](e,t,r,r,1,o),1==u[t+53|0]){if(a[t+44>>2]=3,!u[t+52|0])break t;break e}a[t+44>>2]=4}if(a[t+20>>2]=r,a[t+40>>2]=a[t+40>>2]+1,1!=a[t+36>>2]|2!=a[t+24>>2])break e;return void(n[t+54|0]=1)}e=a[e+8>>2],ev[a[a[e>>2]+24>>2]](e,t,r,i,o)}},function(e,t,r,n){r|=0,n|=0,Q(e|=0,a[8+(t|=0)>>2],0)?X(t,r,n):(e=a[e+8>>2],ev[a[a[e>>2]+28>>2]](e,t,r,n))},ef,ed,function(e){return 1118},ec,function(e){return a[4+(e|=0)>>2]},ec]).set=function(e,t){this[e]=t},ep.get=function(e){return this[e]},ep);function ey(){return r.byteLength/65536|0}return{p:Object.create(Object.prototype,{grow:{value:function(e){e|=0;var i=0|ey(),o=i+e|0;if(i<o&&o<65536){var h=new ArrayBuffer(d(o,65536));new Int8Array(h).set(n),n=new Int8Array(h),s=new Int16Array(h),a=new Int32Array(h),u=new Uint8Array(h),new Uint16Array(h),l=new Uint32Array(h),c=new Float32Array(h),f=new Float64Array(h),r=h,t=u}return i}},buffer:{get:function(){return r}}}),q:function(){a[3713]=1,a[3714]=0,M(),a[3714]=a[3712],a[3712]=14852,a[2019729]=0,a[2019728]=2,m(1084,5,3808,3828,3,4,0),m(1044,2,3836,3872,5,6,0),m(1032,2,3836,3872,5,7,0),m(1225,6,3888,3912,8,9,0),m(1138,6,3888,3912,8,10,0),m(1024,1,3920,3924,11,12,0),a[2019729]=a[3712],a[3712]=8078912,a[2019768]=8078952,a[2019750]=42},r:function(e){var t,r;return 0|((r=z(t=J(e=a[4+(e|=0)>>2])+1|0))?W(r,e,t):0)},s:ev,t:function(e,t){return a[2019719]=4046864,a[2019718]=14864,a[2019724]=0,0},u:D,v:z,w:function(e){return(e|=0)?0|!!(0|F(e,14128)):0}}}(e)}(t)},instantiate:function(e,t){return{then:function(r){var n=new y.Module(e);r({instance:new y.Instance(n,t)})}}},RuntimeError:Error};h=[];var b,A,g,m,w,k,S,O,x,T=!1;function P(){var e=v.buffer;o.HEAP8=A=new Int8Array(e),o.HEAP16=m=new Int16Array(e),o.HEAPU8=g=new Uint8Array(e),o.HEAPU16=w=new Uint16Array(e),o.HEAP32=k=new Int32Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=O=new Float32Array(e),o.HEAPF64=x=new Float64Array(e)}var E,C=[],j=[],B=[],R=[],_=0,I=null,N=null;function z(e){null===(t=(n=o).onAbort)||void 0===t||t.call(n,e),p(e="Aborted("+e+")"),T=!0,b=1,e+=". Build with -sASSERTIONS for more info.";var t,n,i=new y.RuntimeError(e);throw r(i),i}function D(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var W=e=>{for(;e.length>0;)e.shift()(o)},L=o.noExitRuntime||!0;class F{set_type(e){S[this.ptr+4>>2]=e}get_type(){return S[this.ptr+4>>2]}set_destructor(e){S[this.ptr+8>>2]=e}get_destructor(){return S[this.ptr+8>>2]}set_caught(e){e=e?1:0,A[this.ptr+12]=e}get_caught(){return 0!=A[this.ptr+12]}set_rethrown(e){e=e?1:0,A[this.ptr+13]=e}get_rethrown(){return 0!=A[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){S[this.ptr+16>>2]=e}get_adjusted_ptr(){return S[this.ptr+16>>2]}get_exception_ptr(){if(eB(this.get_type()))return S[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}constructor(e){this.excPtr=e,this.ptr=e-24}}var M,U,q,G=e=>{for(var t="",r=e;g[r];)t+=M[g[r++]];return t},Z={},V={},Y={},J=e=>{throw new U(e)},Q=e=>{throw new q(e)};function X(e,t,r={}){if(!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");return function(e,t,r={}){var n=t.name;if(e||J(`type "${n}" must have a positive integer typeid pointer`),V.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;J(`Cannot register type '${n}' twice`)}if(V[e]=t,delete Y[e],Z.hasOwnProperty(e)){var i=Z[e];delete Z[e],i.forEach(e=>e())}}(e,t,r)}var H=[],K=[],$=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=H.pop()||K.length;return K[t]=e,K[t+1]=1,t}}};function ee(e){return this.fromWireType(S[e>>2])}var et,er,en,ei,eo={name:"emscripten::val",fromWireType:e=>{let t;var r=((t=e)||J("Cannot use deleted val. handle = "+t),K[t]);return(e=>{e>9&&0==--K[e+1]&&(K[e]=void 0,H.push(e))})(e),r},toWireType:(e,t)=>$(t),argPackAdvance:8,readValueFromPointer:ee,destructorFunction:null},es=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(O[e>>2])};case 8:return function(e){return this.fromWireType(x[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},ea=(e,t)=>Object.defineProperty(t,"name",{value:e}),eu=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(...n){return e[t].overloadTable.hasOwnProperty(n.length)||J(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[n.length].apply(this,n)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},el=[],ec=e=>{var t=el[e];return t||(e>=el.length&&(el.length=e+1),el[e]=t=et.get(e)),t},ef=(e,t)=>{var r,n,i=(e=G(e)).includes("j")?(r=e,n=t,(...e)=>((e,t,r=[])=>{let n,i,s;return e.includes("j")?(n=e,i=t,s=r,(0,o["dynCall_"+(n=n.replace(/p/g,"i"))])(i,...s)):ec(t)(...r)})(r,n,e)):ec(t);return"function"!=typeof i&&J(`unknown function pointer with signature ${e}: ${t}`),i},ed=e=>{var t=eP(e),r=G(t);return eC(t),r},eh=(e,t,r)=>{switch(t){case 1:return r?e=>A[e]:e=>g[e];case 2:return r?e=>m[e>>1]:e=>w[e>>1];case 4:return r?e=>k[e>>2]:e=>S[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},ep="undefined"!=typeof TextDecoder?new TextDecoder:void 0,ev="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,ey=(e,t)=>{for(var r=e,n=r>>1,i=n+t/2;!(n>=i)&&w[n];)++n;if((r=n<<1)-e>32&&ev)return ev.decode(g.subarray(e,r));for(var o="",s=0;!(s>=t/2);++s){var a=m[e+2*s>>1];if(0==a)break;o+=String.fromCharCode(a)}return o},eb=(e,t,r)=>{if(null!=r||(r=0x7fffffff),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,o=0;o<i;++o){var s=e.charCodeAt(o);m[t>>1]=s,t+=2}return m[t>>1]=0,t-n},eA=e=>2*e.length,eg=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var i=k[e+4*r>>2];if(0==i)break;if(++r,i>=65536){var o=i-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(i)}return n},em=(e,t,r)=>{if(null!=r||(r=0x7fffffff),r<4)return 0;for(var n=t,i=n+r-4,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),k[t>>2]=s,(t+=4)+4>i)break}return k[t>>2]=0,t-n},ew=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},ek=e=>{var t=(e-v.buffer.byteLength+65535)/65536;try{return v.grow(t),P(),1}catch(e){}},eS=(e,t)=>{var r,n,i;b=e,b=i=e,L||(null===(r=(n=o).onExit)||void 0===r||r.call(n,i),T=!0),f(i,new D(i))};(()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);M=e})(),U=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},q=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},K.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=()=>K.length/2-5-H.length,er=o.UnboundTypeError=(en=Error,(ei=ea("UnboundTypeError",function(e){this.name="UnboundTypeError",this.message=e;var t=Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(en.prototype),ei.prototype.constructor=ei,ei.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},ei);var eO,ex={k:(e,t,r)=>{throw new F(e).init(t,r),e},m:()=>{z("")},l:(e,t,r,n,i)=>{},i:(e,t,r,n)=>{X(e,{name:t=G(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(g[e])},destructorFunction:null})},h:e=>X(e,eo),f:(e,t,r)=>{X(e,{name:t=G(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:8,readValueFromPointer:es(t,r),destructorFunction:null})},b:(e,t,r,n,i,s,a)=>{var u=((e,t)=>{for(var r=[],n=0;n<e;n++)r.push(S[t+4*n>>2]);return r})(t,r);e=(e=>{let t=(e=e.trim()).indexOf("(");return -1!==t?e.substr(0,t):e})(e=G(e)),i=ef(n,i),((e,t,r)=>{o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&J(`Cannot register public name '${e}' twice`),eu(o,e,e),o.hasOwnProperty(r)&&J(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))})(e,function(){((e,t)=>{var r=[],n={};throw t.forEach(function e(t){n[t]||V[t]||(Y[t]?Y[t].forEach(e):(r.push(t),n[t]=!0))}),new er(`${e}: `+r.map(ed).join([", "]))})(`Cannot call ${e} due to unbound types`,u)},t-1),((e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&Q("Mismatched type converter count");for(var i=0;i<e.length;++i)X(e[i],n[i])}e.forEach(function(e){Y[e]=t});var i=Array(t.length),o=[],s=0;t.forEach((e,t)=>{V.hasOwnProperty(e)?i[t]=V[e]:(o.push(e),Z.hasOwnProperty(e)||(Z[e]=[]),Z[e].push(()=>{i[t]=V[e],++s===o.length&&n(i)}))}),0===o.length&&n(i)})([],u,r=>{var n=[r[0],null].concat(r.slice(1));return((e,t,r)=>{o.hasOwnProperty(e)||Q("Replacing nonexistent public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)})(e,function(e,t,r,n,i){var o=t.length;o<2&&J("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==t[1]&&!1,a=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}(t),u="void"!==t[0].name,l=o-2,c=Array(l),f=[],d=[];return ea(e,function(...r){var o;r.length!==l&&J(`function ${e} called with ${r.length} arguments, expected ${l}`),d.length=0,f.length=s?2:1,f[0]=i,s&&(o=t[1].toWireType(d,this),f[1]=o);for(var h=0;h<l;++h)c[h]=t[h+2].toWireType(d,r[h]),f.push(c[h]);return function(e){if(a)(e=>{for(;e.length;){var t=e.pop();e.pop()(t)}})(d);else for(var r=s?1:2;r<t.length;r++){var n=1===r?o:c[r-2];null!==t[r].destructorFunction&&t[r].destructorFunction(n)}if(u)return t[0].fromWireType(e)}(n(...f))})}(e,n,0,i,s),t-1),[]})},c:(e,t,r,n,i)=>{t=G(t),-1===i&&(i=0xffffffff);var o=e=>e;if(0===n){var s=32-8*r;o=e=>e<<s>>>s}var a=t.includes("unsigned");X(e,{name:t,fromWireType:o,toWireType:a?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:eh(t,r,0!==n),destructorFunction:null})},a:(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=S[e>>2],r=S[e+4>>2];return new n(A.buffer,r,t)}X(e,{name:r=G(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},e:(e,t)=>{var r="std::string"===(t=G(t));X(e,{name:t,fromWireType(e){var t,n,i,o=S[e>>2],s=e+4;if(r)for(var a=s,u=0;u<=o;++u){var l=s+u;if(u==o||0==g[l]){var c=(i=l-a,(n=a)?((e,t,r)=>{for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&ep)return ep.decode(e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var u=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|u:(7&s)<<18|a<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var l=s-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o})(g,n,i):"");void 0===t?t=c:(t+="\0",t+=c),a=l+1}}else{var f=Array(o);for(u=0;u<o;++u)f[u]=String.fromCharCode(g[s+u]);t=f.join("")}return eC(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||J("Cannot pass non-string to std::string");var o=ej(4+(n=r&&i?(e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t})(t):t.length)+1),s=o+4;if(S[o>>2]=n,r&&i)((e,t,r,n)=>{if(!!(n>0)){for(var i=r+n-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}t[r]=0}})(t,g,s,n+1);else if(i)for(var a=0;a<n;++a){var u=t.charCodeAt(a);u>255&&(eC(s),J("String has UTF-16 code units that do not fit in 8 bits")),g[s+a]=u}else for(a=0;a<n;++a)g[s+a]=t[a];return null!==e&&e.push(eC,o),o},argPackAdvance:8,readValueFromPointer:ee,destructorFunction(e){eC(e)}})},d:(e,t,r)=>{var n,i,o,s;r=G(r),2===t?(n=ey,i=eb,s=eA,o=e=>w[e>>1]):4===t&&(n=eg,i=em,s=ew,o=e=>S[e>>2]),X(e,{name:r,fromWireType:e=>{for(var r,i=S[e>>2],s=e+4,a=0;a<=i;++a){var u=e+4+a*t;if(a==i||0==o(u)){var l=n(s,u-s);void 0===r?r=l:(r+="\0",r+=l),s=u+t}}return eC(e),r},toWireType:(e,n)=>{"string"!=typeof n&&J(`Cannot pass non-string to C++ string type ${r}`);var o=s(n),a=ej(4+o+t);return S[a>>2]=o/t,i(n,a+4,o+t),null!==e&&e.push(eC,a),a},argPackAdvance:8,readValueFromPointer:ee,destructorFunction(e){eC(e)}})},j:(e,t)=>{X(e,{isVoid:!0,name:t=G(t),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},o:(e,t,r)=>g.copyWithin(e,t,t+r),g:(e,t)=>{var r,n;return void 0===(n=V[r=e])&&J(`_emval_take_value has unknown type ${ed(r)}`),$((e=n).readValueFromPointer(t))},n:e=>{var t=g.length,r=0x80000000;if((e>>>=0)>0x80000000)return!1;for(var n,i=1;i<=4;i*=2){var o=t*(1+.2/i);if(o=Math.min(o,e+0x6000000),ek(Math.min(r,(n=Math.max(e,o))+(65536-n%65536)%65536)))return!0}return!1}},eT=function(){var e,t,n={a:ex};function s(e,t){var r;return v=(eT=e.exports).p,P(),et=eT.s,r=eT.q,j.unshift(r),function(){var e,t;if(_--,null===(e=(t=o).monitorRunDependencies)||void 0===e||e.call(t,_),0==_&&(null!==I&&(clearInterval(I),I=null),N)){var r=N;N=null,r()}}(),eT}if(_++,null===(e=(t=o).monitorRunDependencies)||void 0===e||e.call(t,_),o.instantiateWasm)try{return o.instantiateWasm(n,s)}catch(e){p(`Module.instantiateWasm callback failed with error: ${e}`),r(e)}return E||(E="<<< WASM_BINARY_FILE >>>"),s(function(e,t){var r,n=function(e){if(e==E&&h)return new Uint8Array(h);if(i)return i(e);throw'sync fetching of the wasm failed: you can preload it to Module["wasmBinary"] manually, or emcc.py will do that for you when generating HTML (but not JS)'}(e);return r=new y.Module(n),[new y.Instance(r,t),r]}(E,n)[0])}(),eP=(eT.q,eT.r),eE=o._main=eT.t,eC=eT.u,ej=eT.v,eB=eT.w;function eR(){function e(){var e,r;eO||(eO=!0,o.calledRun=!0,T||(W(j),W(B),t(o),null===(e=(r=o).onRuntimeInitialized)||void 0===e||e.call(r),e_&&function(){var e=eE;try{var t=e(0,0);eS(t)}catch(e){return(e=>{if(e instanceof D||"unwind"==e)return b;f(1,e)})(e)}}(),function(){var e;if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),R.unshift(e);W(R)}()))}_>0||(function(){var e;if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),C.unshift(e);W(C)}(),_>0||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()))}if(N=function e(){eO||eR(),eO||(N=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var e_=!0;return o.noInitialRun&&(e_=!1),eR(),o});var u=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function c(e,t,r,n){return u(this,void 0,void 0,function(){var i;return l(this,function(u){return function(e,t,r,n){if(void 0===e)throw"nChannels is undefined";if(void 0===t)throw"inputSampleRate is undefined";if(void 0===r)throw"outputSampleRate is undefined";if(e<1||e>128)throw"invalid nChannels submitted";if(t<1||t>192e3)throw"invalid inputSampleRate";if(r<1||r>192e3)throw"invalid outputSampleRate";if(n<s.SRC_SINC_BEST_QUALITY||n>s.SRC_LINEAR)throw"invalid converterType"}(e,t,r,i=void 0===(null==n?void 0:n.converterType)?s.SRC_SINC_FASTEST:null==n?void 0:n.converterType),[2,new o(a(),i,e,t,r)]})})}return"AudioWorkletGlobalScope"===globalThis.constructor.name&&(globalThis.LibSampleRate={create:c,ConverterType:s}),t})())}});function tm(e){let t=window.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}!function(e){e.wav="wav",e.mp3="mp3",e.aac="aac",e.ogg_opus="ogg_opus",e.pcm="pcm"}(n||(n={})),!function(e){e.StartTask="StartTask",e.FinishTask="FinishTask",e.TaskStarted="TaskStarted",e.TaskFinished="TaskFinished",e.TaskTimestamp="TaskAudioTimestamp",e.TaskAudio="TaskAudio"}(i||(i={}));var tw=({token:e,appkey:t,config:r})=>({token:e,appkey:t,namespace:"TTS",event:i.StartTask,payload:JSON.stringify(r)}),tk=e=>({[n.wav]:"audio/x-wav",[n.mp3]:"audio/mpeg",[n.aac]:"audio/aac",[n.ogg_opus]:'audio/ogg; codecs="opus"',[n.pcm]:"audio/l16; rate=44100; channels=2"})[e],tS=!1,tO=class{static log(e,...t){tS&&console.log(e,...t)}static info(e,...t){tS&&console.info(e,...t)}static error(e,...t){tS&&console.error(e,...t)}};function tx(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function tT(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){tx(o,n,i,s,a,"next",e)}function a(e){tx(o,n,i,s,a,"throw",e)}s(void 0)})}}function tP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){tP(e,t,r[t])})}return e}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tj(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tC(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var tB=class{addChunks(){let{sourceBuffer:e,arrayBuffers:t}=this;if(!this.locked){if(this.locked=!0,t.length&&e&&!e.updating)try{e.appendBuffer(t.shift())}catch(e){tO.error(e)}this.locked=!1}}constructor(){tP(this,"arrayBuffers",[]),tP(this,"locked",!1),tP(this,"webSocket",void 0),tP(this,"sourceBuffer",void 0),tP(this,"connected",void 0),tP(this,"start",({url:e,token:t,appkey:r,config:o,onStart:s,onMessage:a,onComplete:u,onClose:l,onSocketError:c,onServerError:f,debug:d=!1})=>{var h,p,v;let y;null===(h=this.webSocket)||void 0===h||h.close();let b=null!==(v=null===(p=o.audio_config)||void 0===p?void 0:p.format)&&void 0!==v?v:n.mp3,A=tB.isTypeSupported(b);A&&((y=new MediaSource).onsourceopen=()=>{var e;this.sourceBuffer=null===(e=y)||void 0===e?void 0:e.addSourceBuffer(tk(b)),this.sourceBuffer.onupdateend=()=>this.addChunks()});let g=new WebSocket(e);this.webSocket=g,g.onopen=()=>{var e;d&&tO.info("TTS streaming connected"),this.connected=!0,null===(e=s)||void 0===e||e(),g.send(JSON.stringify(tw({token:t,appkey:r,config:o})))};let m=eO(g,"message").pipe(eC(function(){var e=tT(function*(e){return e.data instanceof Blob?yield e.data.arrayBuffer():e.data});return function(t){return e.apply(this,arguments)}}()),ep(e=>{var t,r,n,o;let s;if(e instanceof ArrayBuffer)s=e,null===(t=a)||void 0===t||t({event:i.TaskAudio,buffer:s,message_id:"",namespace:"TTS",status_code:2e7,status_text:"",task_id:""});else try{let t=JSON.parse(e);if(2e7!==t.status_code){null===(n=f)||void 0===n||n(t);return}t.data&&(s=tm(t.data),t.event=i.TaskTimestamp,delete t.data),null===(r=a)||void 0===r||r(tj(tE({},t),{buffer:s})),t.event===i.TaskFinished&&(null===(o=this.webSocket)||void 0===o||o.close())}catch(e){d&&tO.error(e)}A&&s&&(this.arrayBuffers.push(s),this.addChunks())})).subscribe();return g.onclose=()=>{var e,t;if(m.unsubscribe(),this.connected=!1,d&&tO.info("TTS streaming disconnected"),A){let e=setInterval(()=>{let t=0===this.arrayBuffers.length,r=this.sourceBuffer&&!this.sourceBuffer.updating;if(t&&r){var n,i;try{null===(i=y)||void 0===i||i.endOfStream()}catch(e){d&&tO.error(e)}clearInterval(e),null===(n=u)||void 0===n||n()}},0)}else this.arrayBuffers=[],null===(t=u)||void 0===t||t();null===(e=l)||void 0===e||e()},g.onerror=e=>{var t;return null===(t=c)||void 0===t?void 0:t(e)},y?URL.createObjectURL(y):""})}};tP(tB,"revokeUrl",e=>{e&&URL.revokeObjectURL(e)}),tP(tB,"isTypeSupported",e=>{try{return MediaSource.isTypeSupported(tk(e))}catch(e){return!1}}),!function(e){e.StartTask="StartTask",e.StartSession="StartSession",e.EndASR="EndASR",e.StartTTS="StartTTS",e.FinishSession="FinishSession",e.CancelSession="CancelSession",e.FinishTask="FinishTask",e.CancelTask="CancelTask",e.RetryRequest="RetryRequest",e.EndTTS="EndTTS",e.ClientInterrupt="ClientInterrupt"}(o||(o={})),!function(e){e.TaskStarted="TaskStarted",e.SessionStarted="SessionStarted",e.SessionFinished="SessionFinished",e.SessionCanceled="SessionCanceled",e.SessionFailed="SessionFailed",e.ASRResponse="ASRResponse",e.ASREnded="ASREnded",e.TaskFinished="TaskFinished",e.TaskCanceled="TaskCanceled",e.TaskFailed="TaskFailed",e.ChatResponse="ChatResponse",e.ChatEnded="ChatEnded",e.TTSSentenceStart="TTSSentenceStart",e.TTSResponse="TTSResponse",e.TTSEnded="TTSEnded",e.TTSSentenceEnd="TTSSentenceEnd",e.RequestRetried="RequestRetried",e.Buffer="Buffer"}(s||(s={})),!function(e){e.ServerSuccess="ServerSuccess",e.ServerError="ServerError",e.SocketClose="SocketClose",e.SocketError="SocketError"}(a||(a={})),!function(e){e.SocketUnInit="SocketUnInit",e.SocketConnecting="SocketConnecting",e.SocketOpen="SocketOpen",e.SocketClosing="SocketClosing",e.SocketClosed="SocketClosed",e.SocketError="SocketError"}(u||(u={})),!function(e){e.ASR="ASR",e.TTS="TTS",e.ServerError="ServerError",e.SocketError="SocketError",e.SocketClose="SocketClose"}(l||(l={}));var tR=e7.Reader,t_=e7.Writer,tI=e7.util,tN=e7.roots.default||(e7.roots.default={}),tz=tN.pbws=(()=>{let e={};return e.WebSocketRequest=function(){let e;function t(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.token="",t.prototype.appkey="",t.prototype.namespace="",t.prototype.version="",t.prototype.event="",t.prototype.payload=null,t.prototype.data=tI.newBuffer([]),t.prototype.task_id="",t.prototype.seq_id=null,Object.defineProperty(t.prototype,"_payload",{get:tI.oneOfGetter(e=["payload"]),set:tI.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_seq_id",{get:tI.oneOfGetter(e=["seq_id"]),set:tI.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return!t&&(t=t_.create()),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(10).string(e.token),null!=e.appkey&&Object.hasOwnProperty.call(e,"appkey")&&t.uint32(18).string(e.appkey),null!=e.namespace&&Object.hasOwnProperty.call(e,"namespace")&&t.uint32(26).string(e.namespace),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(34).string(e.version),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(42).string(e.event),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(50).string(e.payload),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(58).bytes(e.data),null!=e.task_id&&Object.hasOwnProperty.call(e,"task_id")&&t.uint32(66).string(e.task_id),null!=e.seq_id&&Object.hasOwnProperty.call(e,"seq_id")&&t.uint32(72).uint64(e.seq_id),t},t.decode=function(e,t){!(e instanceof tR)&&(e=tR.create(e));let r=void 0===t?e.len:e.pos+t,n=new tN.pbws.WebSocketRequest;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:n.token=e.string();break;case 2:n.appkey=e.string();break;case 3:n.namespace=e.string();break;case 4:n.version=e.string();break;case 5:n.event=e.string();break;case 6:n.payload=e.string();break;case 7:n.data=e.bytes();break;case 8:n.task_id=e.string();break;case 9:n.seq_id=e.uint64();break;default:e.skipType(7&t)}}return n},t.fromObject=function(e){if(e instanceof tN.pbws.WebSocketRequest)return e;let t=new tN.pbws.WebSocketRequest;return null!=e.token&&(t.token=String(e.token)),null!=e.appkey&&(t.appkey=String(e.appkey)),null!=e.namespace&&(t.namespace=String(e.namespace)),null!=e.version&&(t.version=String(e.version)),null!=e.event&&(t.event=String(e.event)),null!=e.payload&&(t.payload=String(e.payload)),null!=e.data&&("string"==typeof e.data?tI.base64.decode(e.data,t.data=tI.newBuffer(tI.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),null!=e.task_id&&(t.task_id=String(e.task_id)),null!=e.seq_id&&(tI.Long?(t.seq_id=tI.Long.fromValue(e.seq_id)).unsigned=!0:"string"==typeof e.seq_id?t.seq_id=parseInt(e.seq_id,10):"number"==typeof e.seq_id?t.seq_id=e.seq_id:"object"==typeof e.seq_id&&(t.seq_id=new tI.LongBits(e.seq_id.low>>>0,e.seq_id.high>>>0).toNumber(!0))),t},t.toObject=function(e,t){!t&&(t={});let r={};return t.defaults&&(r.token="",r.appkey="",r.namespace="",r.version="",r.event="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=tI.newBuffer(r.data))),r.task_id=""),null!=e.token&&e.hasOwnProperty("token")&&(r.token=e.token),null!=e.appkey&&e.hasOwnProperty("appkey")&&(r.appkey=e.appkey),null!=e.namespace&&e.hasOwnProperty("namespace")&&(r.namespace=e.namespace),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.event&&e.hasOwnProperty("event")&&(r.event=e.event),null!=e.payload&&e.hasOwnProperty("payload")&&(r.payload=e.payload,t.oneofs&&(r._payload="payload")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?tI.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.task_id&&e.hasOwnProperty("task_id")&&(r.task_id=e.task_id),null!=e.seq_id&&e.hasOwnProperty("seq_id")&&("number"==typeof e.seq_id?r.seq_id=t.longs===String?String(e.seq_id):e.seq_id:r.seq_id=t.longs===String?tI.Long.prototype.toString.call(e.seq_id):t.longs===Number?new tI.LongBits(e.seq_id.low>>>0,e.seq_id.high>>>0).toNumber(!0):e.seq_id,t.oneofs&&(r._seq_id="seq_id")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e7.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/pbws.WebSocketRequest"},t}(),e.WebSocketResponse=function(){let e;function t(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.task_id="",t.prototype.message_id="",t.prototype.namespace="",t.prototype.event="",t.prototype.status_code=0,t.prototype.status_text="",t.prototype.payload=null,t.prototype.data=tI.newBuffer([]),t.prototype.seq_id=null,Object.defineProperty(t.prototype,"_payload",{get:tI.oneOfGetter(e=["payload"]),set:tI.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_seq_id",{get:tI.oneOfGetter(e=["seq_id"]),set:tI.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return!t&&(t=t_.create()),null!=e.task_id&&Object.hasOwnProperty.call(e,"task_id")&&t.uint32(10).string(e.task_id),null!=e.message_id&&Object.hasOwnProperty.call(e,"message_id")&&t.uint32(18).string(e.message_id),null!=e.namespace&&Object.hasOwnProperty.call(e,"namespace")&&t.uint32(26).string(e.namespace),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&t.uint32(34).string(e.event),null!=e.status_code&&Object.hasOwnProperty.call(e,"status_code")&&t.uint32(40).int32(e.status_code),null!=e.status_text&&Object.hasOwnProperty.call(e,"status_text")&&t.uint32(50).string(e.status_text),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).string(e.payload),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(66).bytes(e.data),null!=e.seq_id&&Object.hasOwnProperty.call(e,"seq_id")&&t.uint32(72).uint64(e.seq_id),t},t.decode=function(e,t){!(e instanceof tR)&&(e=tR.create(e));let r=void 0===t?e.len:e.pos+t,n=new tN.pbws.WebSocketResponse;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:n.task_id=e.string();break;case 2:n.message_id=e.string();break;case 3:n.namespace=e.string();break;case 4:n.event=e.string();break;case 5:n.status_code=e.int32();break;case 6:n.status_text=e.string();break;case 7:n.payload=e.string();break;case 8:n.data=e.bytes();break;case 9:n.seq_id=e.uint64();break;default:e.skipType(7&t)}}return n},t.fromObject=function(e){if(e instanceof tN.pbws.WebSocketResponse)return e;let t=new tN.pbws.WebSocketResponse;return null!=e.task_id&&(t.task_id=String(e.task_id)),null!=e.message_id&&(t.message_id=String(e.message_id)),null!=e.namespace&&(t.namespace=String(e.namespace)),null!=e.event&&(t.event=String(e.event)),null!=e.status_code&&(t.status_code=0|e.status_code),null!=e.status_text&&(t.status_text=String(e.status_text)),null!=e.payload&&(t.payload=String(e.payload)),null!=e.data&&("string"==typeof e.data?tI.base64.decode(e.data,t.data=tI.newBuffer(tI.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),null!=e.seq_id&&(tI.Long?(t.seq_id=tI.Long.fromValue(e.seq_id)).unsigned=!0:"string"==typeof e.seq_id?t.seq_id=parseInt(e.seq_id,10):"number"==typeof e.seq_id?t.seq_id=e.seq_id:"object"==typeof e.seq_id&&(t.seq_id=new tI.LongBits(e.seq_id.low>>>0,e.seq_id.high>>>0).toNumber(!0))),t},t.toObject=function(e,t){!t&&(t={});let r={};return t.defaults&&(r.task_id="",r.message_id="",r.namespace="",r.event="",r.status_code=0,r.status_text="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=tI.newBuffer(r.data)))),null!=e.task_id&&e.hasOwnProperty("task_id")&&(r.task_id=e.task_id),null!=e.message_id&&e.hasOwnProperty("message_id")&&(r.message_id=e.message_id),null!=e.namespace&&e.hasOwnProperty("namespace")&&(r.namespace=e.namespace),null!=e.event&&e.hasOwnProperty("event")&&(r.event=e.event),null!=e.status_code&&e.hasOwnProperty("status_code")&&(r.status_code=e.status_code),null!=e.status_text&&e.hasOwnProperty("status_text")&&(r.status_text=e.status_text),null!=e.payload&&e.hasOwnProperty("payload")&&(r.payload=e.payload,t.oneofs&&(r._payload="payload")),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?tI.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.seq_id&&e.hasOwnProperty("seq_id")&&("number"==typeof e.seq_id?r.seq_id=t.longs===String?String(e.seq_id):e.seq_id:r.seq_id=t.longs===String?tI.Long.prototype.toString.call(e.seq_id):t.longs===Number?new tI.LongBits(e.seq_id.low>>>0,e.seq_id.high>>>0).toNumber(!0):e.seq_id,t.oneofs&&(r._seq_id="seq_id")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,e7.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/pbws.WebSocketResponse"},t}(),e})(),tD=e=>tz.WebSocketRequest.encode(tz.WebSocketRequest.create(e)).finish(),tW=e=>tz.WebSocketResponse.toObject(tz.WebSocketResponse.decode(new Uint8Array(e)));function tL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){tL(e,t,r[t])})}return e}function tM(e,t){let r=tF({},e);return t.forEach(e=>delete r[e]),r}function tU(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=e=>{r(e)},n.readAsArrayBuffer(e)})}!function(e){e.Info="info",e.Error="error"}(c||(c={}));var tq=(e,t)=>{let r=[];if(t.event&&r.push(["event",t.event]),t.statusCode&&r.push(["statusCode",String(t.statusCode)]),t.taskId&&r.push(["taskId",String(t.taskId)]),t.data){let e=t.data;["number","string","boolean"].includes(typeof e)?r.push(["data",e]):"object"==typeof e&&r.push(["data",JSON.stringify(e)])}return`speech-sdk[${e}]: ${r.map(e=>`${e[0]}=${e[1]}`).join(", ")}`};function tG(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function tZ(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){tG(o,n,i,s,a,"next",e)}function a(e){tG(o,n,i,s,a,"throw",e)}s(void 0)})}}function tV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){tV(e,t,r[t])})}return e}var tJ=[s.TaskStarted,s.TaskFinished,s.TaskCanceled,s.TaskFailed,s.SessionFinished,s.SessionCanceled,s.SessionFailed],tQ=[o.FinishTask,o.CancelTask,o.CancelSession,o.FinishSession],tX=class{getServerStatus(){return this.serverStatus$.getValue()}getClientEventStatus(){return this.clientEventStatus$.getValue()}getServerStatus$(){return this.serverStatus$.pipe()}getClientStatus(){return this.clientStatus$.getValue()}getWSReadyState(){var e;return null===(e=this.ws)||void 0===e?void 0:e.readyState}updateToken(e){this.token=e}onASR(e){return this.eventBus.on(l.ASR,e),()=>this.eventBus.off(l.ASR,e)}onTTS(e){return this.eventBus.on(l.TTS,e),()=>this.eventBus.off(l.TTS,e)}onServerError(e){return this.eventBus.on(l.ServerError,e),()=>this.eventBus.off(l.ServerError,e)}onSocketError(e){return this.eventBus.on(l.SocketError,e),()=>this.eventBus.off(l.SocketError,e)}onSocketClose(e){return this.eventBus.on(l.SocketClose,e),()=>this.eventBus.off(l.SocketClose,e)}getTaskId(){return this.taskId}isClientOpen(){var e;return(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}isTaskOffline(){let e=this.getServerStatus();return!e||[s.TaskFailed,s.TaskFinished].includes(e)}hasBuffer(e){return e.type===a.ServerSuccess&&!!e.data.data}connect(){var e,t;this.socketDestroy(),tO.log("connecting...",this.getWSUrl());let r=new WebSocket(this.getWSUrl());return this.ws=r,this.wsSubscribe(),this.wsSubscription(),this.setClientStatus(u.SocketConnecting),null===(e=(t=this).log)||void 0===e||e.call(t,c.Info,{event:u.SocketConnecting}),new Promise((e,t)=>{r.onopen=()=>{var t,r;this.setClientStatus(u.SocketOpen),null===(t=(r=this).log)||void 0===t||t.call(r,c.Info,{event:u.SocketOpen}),e()};let n=e_(this.wsError$,this.wsClose$).pipe(ez(1),eD(e=>{t({type:e.type,data:e.data})})).subscribe();this.destroyPool.push(()=>n.unsubscribe())})}startTask(e){return new Promise((t,r)=>{this.taskId=void 0,this.send({event:o.StartTask,payload:e}),this.asyncWSResponse(s.TaskStarted,e=>{this.taskId=e.data.task_id,t(e)},r)})}finishTask(){return new Promise((e,t)=>{this.send({event:o.FinishTask}),this.asyncWSResponse(s.TaskFinished,t=>e(t),t)})}retryRequest(e){return new Promise((t,r)=>{this.send({event:o.RetryRequest,payload:JSON.stringify(tY({task_id:this.taskId},e))}),this.asyncWSResponse(s.RequestRetried,e=>t(e),r)})}startSession(e){var t=this;return tZ(function*(){return tO.log("start session: ",JSON.stringify(e)),!t.isClientOpen()&&(yield t.connect(),yield t.startTask()),t.isTaskOffline()&&(yield t.startTask()),new Promise((r,n)=>{t.send({payload:JSON.stringify(e),event:o.StartSession}),t.asyncWSResponse(s.SessionStarted,e=>r(e),n)})})()}cancelSession(){return new Promise((e,t)=>{this.send({event:o.CancelSession}),this.asyncWSResponse(s.SessionCanceled,t=>e(t),t)})}finishSession(){return new Promise((e,t)=>{this.send({event:o.FinishSession}),this.asyncWSResponse(s.SessionFinished,t=>e(t),t)})}tryFinishSession(){if(!this.isClientOpen())return Promise.resolve();let e=this.getServerStatus(),t=this.getClientEventStatus();return e&&!tJ.includes(e)&&t&&!tQ.includes(t)?this.finishSession():Promise.resolve()}tryCancelSession(){if(!this.isClientOpen())return Promise.resolve();let e=this.getServerStatus(),t=this.getClientEventStatus();return e&&!tJ.includes(e)&&t&&!tQ.includes(t)?this.cancelSession():Promise.resolve()}tryFinishTask(){if(!this.isClientOpen())return Promise.resolve();let e=this.getServerStatus();return e&&!tJ.includes(e)?this.finishTask():Promise.resolve()}destroy(){let e=this.getServerStatus(),t=this.getClientStatus();[s.TaskFinished,s.SessionFailed].includes(e)&&t===u.SocketConnecting&&this.send({event:o.FinishTask}),this.socketDestroy()}encodeRequest(e){return this.isProtocolV2?tD(e):JSON.stringify(e)}decodeMessage(e){return this.isProtocolV2?tW(e):"string"==typeof e?JSON.parse(e):{event:s.Buffer,namespace:this.namespace,status_code:2e7,status_text:"ok",data:new Uint8Array(e),task_id:this.taskId}}initQuery(e){var t,r,n,i;let o=tY({},this.query);"boolean"==typeof(null===(t=e)||void 0===t?void 0:t.customKeepalive)&&(o["x-custom-keepalive"]=e.customKeepalive),(null===(r=e)||void 0===r?void 0:r.keepAliveTimeout)&&(o["x-keepalive-timeout"]=e.keepAliveTimeout),(null===(n=e)||void 0===n?void 0:n.keepAliveInterval)&&(o["x-keepalive-interval"]=e.keepAliveInterval),(null===(i=e)||void 0===i?void 0:i.keepAliveRetry)&&(o["x-keepalive-retry"]=e.keepAliveRetry),e&&(o=tY({},o,tM(e,["customKeepalive","keepAliveTimeout","keepAliveInterval","keepAliveRetry"]))),this.query=o}send({payload:e,data:t,seq_id:r,event:n,ws:i}){var o,s,a,l,f,d,h;let p={token:this.token,appkey:this.appkey,namespace:this.namespace,task_id:this.taskId,event:n,payload:e,data:t,seq_id:r},v=null!=i?i:this.ws;if(v&&(null===(o=v)||void 0===o?void 0:o.readyState)===(null===(s=v)||void 0===s?void 0:s.OPEN))p.event&&this.setClientEventStatus(p.event),v.send(this.encodeRequest(p)),null===(a=(l=this).log)||void 0===a||a.call(l,c.Info,{event:n,taskId:this.taskId,data:tM(p,["appkey","namespace","token","data"])});else{let e=e=>{switch(e){case WebSocket.CONNECTING:return u.SocketConnecting;case WebSocket.CLOSING:return u.SocketClosing;case WebSocket.CLOSED:return u.SocketClosed;default:return u.SocketUnInit}},t=`socket_send_error_${e(null===(f=v)||void 0===f?void 0:f.readyState)}`;return null===(d=(h=this).log)||void 0===d||d.call(h,c.Error,{event:t,taskId:this.taskId}),Error(t)}}wsSubscribe(){if(!this.ws)return;let e=e$(eO(this.ws,"message").pipe(ep(e=>({listener:"message",data:e}))),eO(this.ws,"error").pipe(ep(e=>({listener:"error",data:e}))),eO(this.ws,"close").pipe(ep(e=>({listener:"close",data:e})))).pipe(eC(function(){var e=tZ(function*(e){if("message"!==e.listener)return Promise.resolve(e);{let{data:t}=e.data;return"string"==typeof t?{listener:"message",data:t}:{listener:"message",data:yield tU(t)}}});return function(t){return e.apply(this,arguments)}}()),e8());this.wsMessage$=e.pipe(e3(e=>"message"===e.listener),ep(e=>{let t=e.data,r=this.decodeMessage(t);return 2e7===r.status_code&&(!r.event&&(r.event=s.Buffer),r.event!==s.TaskFailed)?{type:a.ServerSuccess,data:r}:{type:a.ServerError,data:r}}),e8()),this.wsMessageSuccess$=this.wsMessage$.pipe(e3(e=>e.type===a.ServerSuccess),e8()),this.wsMessageError$=this.wsMessage$.pipe(e3(e=>e.type===a.ServerError),e8()),this.wsError$=e.pipe(e3(e=>"error"===e.listener),ep(e=>e.data),ez(1),ep(e=>({type:a.SocketError,data:e})),e8()),this.wsClose$=e.pipe(e3(e=>"close"===e.listener),ep(e=>e.data),ez(1),ep(e=>({type:a.SocketClose,data:e})),e8())}wsSubscription(){let e=e$(this.wsMessage$.pipe(eD(e=>{var t,r;this.setServerStatus(e.data.event),e.type===a.ServerError&&this.eventBus.emit(l.ServerError,e),e.data.task_id&&(this.taskId=e.data.task_id),null===(t=(r=this).log)||void 0===t||t.call(r,e.type===a.ServerError?c.Error:c.Info,{event:e.data.event,taskId:this.taskId,statusCode:e.data.status_code})})),this.wsClose$.pipe(eD(e=>{var t,r;this.setClientStatus(u.SocketClosed),this.eventBus.emit(l.SocketClose,e),null===(t=(r=this).log)||void 0===t||t.call(r,c.Info,{event:u.SocketClosed,taskId:this.taskId,data:{code:e.data.code,reason:e.data.reason}})})),this.wsError$.pipe(eD(e=>{var t,r;this.setClientStatus(u.SocketError),this.eventBus.emit(l.SocketError,e),null===(t=(r=this).log)||void 0===t||t.call(r,c.Error,{event:u.SocketError,taskId:this.taskId})}))).subscribe();this.destroyPool.push(()=>e.unsubscribe())}setClientStatus(e){this.clientStatus$.getValue()!==e&&this.clientStatus$.next(e)}setServerStatus(e){this.serverStatus$.getValue()!==e&&this.serverStatus$.next(e)}setClientEventStatus(e){this.clientEventStatus$.next(e)}socketDestroy(){if(this.destroyPool.forEach(e=>e()),this.destroyPool=[],!!this.ws){if(this.ws.readyState===this.ws.OPEN||this.ws.readyState===this.ws.CONNECTING){var e,t;this.ws.close(),null===(e=(t=this).log)||void 0===e||e.call(t,c.Info,{event:u.SocketClosing})}}}getWSUrl(){var e;let t=null===(e=Object.entries(this.query).map(([e,t])=>`${e}=${t}`))||void 0===e?void 0:e.join("&");return this.url.includes("?")?`${this.url}&${t}`:`${this.url}?${t}`}constructor({appkey:e,token:t,url:r,log:n,socketConfig:i,namespace:o,auth:s="",protocol:l="v2"}){tV(this,"namespace",void 0),tV(this,"appkey",void 0),tV(this,"token",void 0),tV(this,"url",void 0),tV(this,"eventBus",void 0),tV(this,"query",{}),tV(this,"isProtocolV2",!1),tV(this,"taskId",void 0),tV(this,"destroyPool",void 0),tV(this,"serverStatus$",new e6(null)),tV(this,"clientEventStatus$",new e6(null)),tV(this,"clientStatus$",new e6(u.SocketUnInit)),tV(this,"log",void 0),tV(this,"ws",void 0),tV(this,"wsMessage$",void 0),tV(this,"wsMessageSuccess$",void 0),tV(this,"wsMessageError$",void 0),tV(this,"wsError$",void 0),tV(this,"wsClose$",void 0),tV(this,"asyncWSResponse",(e,t,r)=>{let n=e_(this.wsMessageSuccess$.pipe(e3(t=>t.data.event===e)),this.wsMessageError$,this.wsError$,this.wsClose$).pipe(ez(1),eD(e=>{if(e.type===a.ServerSuccess)t(e);else{var n;null===(n=r)||void 0===n||n(e)}})).subscribe();this.destroyPool.push(()=>n.unsubscribe())}),this.appkey=e,this.token=t,this.eventBus=new ej.Z,this.destroyPool=[],this.url=r,this.namespace=o,""!==s&&(this.query["Passport-Auth"]=s),"v2"===l&&(this.query["Proto-Version"]="v2",this.isProtocolV2=!0),this.log=(e,t)=>{var r;null===(r=n)||void 0===r||r({message:tq(e,t),type:e,data:t})},this.initQuery(i)}};function tH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){tH(e,t,r[t])})}return e}var t$=class extends tX{startTTS(e){this.send({event:o.StartTTS,payload:JSON.stringify(e)});let t=[s.ChatResponse,s.ChatEnded,s.TTSSentenceStart,s.TTSResponse,s.TTSSentenceEnd,s.TTSEnded,s.SessionCanceled],r=[s.TTSEnded,s.SessionCanceled],n=this.wsMessageSuccess$.pipe(e3(e=>t.includes(e.data.event)),e9(this.wsMessageError$,this.wsClose$,this.wsError$),te(e=>e.type===a.ServerSuccess&&!r.includes(e.data.event),!0));if(this.eventBus.eventNames().includes(l.TTS)){let e=n.pipe(eD(e=>this.eventBus.emit(l.TTS,e))).subscribe();this.destroyPool.push(()=>e.unsubscribe())}return n}interrupt(){this.send({event:o.ClientInterrupt})}endASR(){return new Promise((e,t)=>{this.send({event:o.EndASR}),this.asyncWSResponse(s.ASREnded,t=>e(t.data),t)})}constructor(e){super(tK({namespace:"VoiceGenie"},e)),tH(this,"generateASRAudioSender",()=>{let e=(e,t)=>{this.send({data:e,seq_id:t})},t=this.wsMessageSuccess$.pipe(e3(e=>[s.ASRResponse,s.ASREnded,s.SessionCanceled].includes(e.data.event)),e9(this.wsMessageError$,this.wsClose$,this.wsError$),te(e=>e.type===a.ServerSuccess&&![s.SessionCanceled,s.ASREnded].includes(e.data.event),!0),e8());if(this.eventBus.eventNames().includes(l.ASR)){let e=t.pipe(eD(e=>this.eventBus.emit(l.ASR,e))).subscribe();this.destroyPool.push(()=>e.unsubscribe())}return{send:e,ASRResult$:t,endASR:()=>this.endASR()}}),tH(this,"getAudioSender",()=>({send:(e,t)=>{this.send({data:e,seq_id:t})}})),tH(this,"getListener",()=>({Results$:this.wsMessageSuccess$.pipe(eD(e=>tO.log("new listener: ",e.data)),e3(e=>e.data.event.length>0),te(e=>e.type===a.ServerSuccess,!0),e8())})),tH(this,"onServerEvent",e=>{let t=this.getListener().Results$.pipe(eD(t=>e(t))).subscribe();return()=>t.unsubscribe()})}},t0=`/* eslint-disable */

var CHUNK_SIZE = 1024 * 256 * 20;

// \u{4E00}\u{4E2A}\u{57FA}\u{4E8E}\u{56FA}\u{5B9A}\u{5927}\u{5C0F}\u{5206}\u{6BB5}\u{6570}\u{7EC4}\u{7684} Buffer\u{FF0C}\u{7528}\u{4E8E}\u{7F13}\u{5B58}\u{585E}\u{5165}\u{7684}\u{97F3}\u{9891}\u{6570}\u{636E}\u{3002}
// \u{901A}\u{8FC7}\u{5206}\u{6BB5}\u{6570}\u{7EC4}\u{FF0C}\u{51CF}\u{5C11}\u{5206}\u{914D}\u{5185}\u{5B58}\u{6B21}\u{6570}\u{7684}\u{540C}\u{65F6}\u{FF0C}\u{63D0}\u{9AD8}\u{6570}\u{636E}\u{589E}\u{5220}\u{7684}\u{901F}\u{5EA6}\u{3002}
class ChunkBuffer {
  constructor() {
    this.size = 0; // \u{6574}\u{4E2A}buffer\u{603B}\u{6570}\u{636E}\u{957F}\u{5EA6}
    this.read = 0; // \u{5F53}\u{524D}\u{7B2C}\u{4E00}\u{4E2A} chunk \u{8BFB}\u{53D6}\u{7684}\u{4F4D}\u{7F6E}.
    this.write = 0; // \u{5F53}\u{524D}\u{6700}\u{540E}\u{4E00}\u{4E2A} chunk \u{5199}\u{5230}\u{7684}\u{4F4D}\u{7F6E}.
    this.dataChunks = []; // \u{5206}\u{6BB5}\u{6570}\u{7EC4}\u{FF0C}\u{6BCF}\u{4E2A} chunk \u{662F}\u{4E00}\u{4E2A}\u{56FA}\u{5B9A}\u{5927}\u{5C0F}\u{4E3A} CHUNK_SIZE \u{7684} Float32Array.
  }

  setBuffer(input) {
    var len = input?.length || 0;
    if (len === 0) {
      return;
    }

    let curWritePos = 0;
    let totalWriteLen = len;
    while (curWritePos < totalWriteLen) {
      // \u{662F}\u{5426}\u{9700}\u{8981}\u{65B0}\u{589E}\u{4E00}\u{4E2A} chunk.
      if (this.dataChunks.length <= 0 || this.write >= CHUNK_SIZE) {
        this.dataChunks.push(new Float32Array(CHUNK_SIZE));
        this.write = 0;
      }

      // \u{5F53}\u{524D} chunk \u{53EF}\u{5199}\u{957F}\u{5EA6}
      let partWriteLen = Math.min(totalWriteLen - curWritePos, CHUNK_SIZE - this.write);
      for (let i = 0; i < partWriteLen; ++i) {
        this.dataChunks[this.dataChunks.length - 1][this.write + i] = input[curWritePos + i];
      }
      curWritePos += partWriteLen;
      this.write += partWriteLen;
    }

    this.size += totalWriteLen;
  }

  getBuffer(output) {
    var len = output.length || 0;
    if (len === 0) {
      return;
    }
    let curReadPos = 0;
    let totalReadLen = Math.min(len, this.size);
    while (curReadPos < totalReadLen) {
      // \u{5F53}\u{524D}\u{6B63}\u{5728}\u{8BFB}\u{7684} chunk \u{4E2D}\u{5305}\u{542B}\u{7684}\u{6570}\u{636E}\u{5927}\u{5C0F}\u{FF0C}\u{53D6}\u{51B3}\u{4E8E}\u{662F}\u{5426}\u{5C31}\u{662F}\u{6700}\u{540E}\u{4E00}\u{4E2A} chunk
      let curChunkAvailLen = this.dataChunks.length <= 1 ? this.write - this.read : CHUNK_SIZE - this.read

      // \u{5F53}\u{524D} chunk \u{53EF}\u{8BFB}\u{957F}\u{5EA6}
      let partReadLen = Math.min(totalReadLen - curReadPos, curChunkAvailLen);
      for (let i = 0; i < partReadLen; ++i) {
        output[curReadPos + i] = this.dataChunks[0][this.read + i];
      }
      curReadPos += partReadLen;
      this.read += partReadLen;

      // \u{5F53}\u{524D} chunk \u{5DF2}\u{8BFB}\u{5B8C}\u{FF0C}\u{79FB}\u{9664}\u{5F53}\u{524D} chunk
      if (this.read >= CHUNK_SIZE) {
        this.dataChunks.shift();
        this.read = 0;
      }
    }

    this.size -= totalReadLen;
  }

  clear() {
    this.dataChunks.length = 0;
    this.read = 0;
    this.write = 0;
    this.size = 0;
  }

  canPull(size) {
    return size <= this.size;
  }
}

function calLevel(arr) {
  var sum = arr.reduce((acc, cur) => acc + Math.abs(cur), 0);
  return sum / arr.length;
}

function createHannWindow(length) {
  var win = new Float32Array(length);
  for (var i = 0; i < length; ++i) {
    win[i] = 0.02 * (1 - Math.cos((2 * Math.PI * i) / (length - 1)));
  }
  return win;
}

class MyWorkletProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.ret = true;
    this.ready = false;
    this.todoWindow = true;
    this.playing = false;
    this.buffering = false;
    this.running = false;

    this.buffer = new ChunkBuffer();
    this.reader = new Float32Array(128);

    this.port.onmessage = ev => {
      var message = ev.data.message;
      if (message === 'clear') {
        this.buffer.clear();
        this.todoWindow = true;
        this.postMessage('cleared');
      } else if (message == 'resume') {
        this.ready = true;
        this.ret = true;
        this.postMessage('resumed');
      } else if (message == 'pause') {
        this.ready = false;
        this.postMessage('paused');
      } else if (message === 'quit') {
        this.ready = false;
        this.ret = false;
        this.postMessage('quitted');
      } else if (message === 'dataIn') {
        var data = ev.data.data;
        this.buffer.setBuffer(data);
        this.buffering = true;
        this.postMessage('buffered');
      } else if (message === 'finishBuffer') {
        // \u{5982}\u{679C}\u{901A}\u{77E5}buffer\u{7ED3}\u{675F}\u{FF0C}\u{5219}\u{6807}\u{8BC6}\u{5F53}\u{524D}\u{6B63}\u{5728}\u{8FD0}\u{884C}\u{FF0C}\u{53EF}\u{80FD}\u{6B64}\u{524D}\u{4ECE}\u{672A}buffer\u{4EFB}\u{4F55}\u{6570}\u{636E}\u{3002}
        this.running = true;
        this.buffering = false;
        this.postMessage('bufferFinished');
      } else {
        this.postMessage('unknown', message);
      }
    };
  }

  log(text) {
    this.postMessage('log', text);
  }

  postMessage(message, data) {
    this.port.postMessage({ message, data });
  }

  handleOutputBuffer(output) {
    this.reader.set(output[0]);
    if (this.buffer.canPull(this.reader.length)) {
      this.buffer.getBuffer(this.reader);

      if (this.todoWindow) {
        var window = createHannWindow(this.reader.length);
        var part = this.reader
          .subarray(0, this.reader.length)
          .map((value, index) => value * window[index]);
        this.reader.set(part);
        this.todoWindow = false;
      }

      output.forEach(e => e.set(this.reader.subarray(0, 128)));
      if (!this.playing) {
        this.playing = true;
        this.postMessage('playing', true);
      }
      this.postMessage('dataOut', this.reader.subarray(0, 128))
    } else {
      // \u{5DF2}\u{63A5}\u{6536}\u{5B8C}\u{6210} buffer
      if (!this.buffering) {
        // \u{5982}\u{679C}\u{6B63}\u{5728}\u{64AD}\u{653E}\u{FF0C}\u{5219}\u{6807}\u{8BC6}\u{64AD}\u{653E}\u{7ED3}\u{675F}
        if (this.playing) {
          this.playing = false;
          this.postMessage('playing', false);
        }
        // \u{5982}\u{679C}\u{5F53}\u{524D}\u{4E3A}\u{8FD0}\u{884C}\u{72B6}\u{6001}\u{FF0C}\u{5219}\u{6807}\u{8BC6}\u{6240}\u{6709}buffer\u{6570}\u{636E}\u{5904}\u{7406}\u{5B8C}\u{6BD5}
        if (this.running) {
          this.running = false;
          this.postMessage('complete');
        }
      }
    }
  }

  process(inputs, outputs) {
    var output = outputs[0];
    if (!output || !output.length) {
      return true;
    }

    if (this.ready) {
      this.handleOutputBuffer(output);
    }
    return this.ret;
  }
}

registerProcessor('player-audio-worklet-processor', MyWorkletProcessor);
`;function t2(){return["player.worklet.js",t0]}var t1=`/* eslint-disable */
var BUFFER_LEN = 2560;

class MyWorkletProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.ret = true;
    this.ready = false;

    this.f32Buffer = new Float32Array(BUFFER_LEN);
    this.frames = 0;

    this.port.onmessage = ev => {
      var message = ev.data.message;

      if (message == 'resume') {
        this.ready = true;
        this.ret = true;
        this.postMessage('resumed');
      } else if (message == 'pause') {
        this.ready = false;
        this.postMessage('paused');
      } else if (message === 'quit') {
        this.ready = false;
        this.ret = false;
        this.postMessage('quitted');
      } else if (message == 'clear') {
        this.f32Buffer = new Float32Array(BUFFER_LEN);
        this.frames = 0;
        this.postMessage('cleared');
      }
    };
  }

  handleInputBuffer(input) {
    if (!input || !input[0] || !input[0].length) {
      return;
    }
    var len = input[0].length;

    var f32Buffer = this.f32Buffer;
    var frames = this.frames;
    var cur = frames % BUFFER_LEN;
    var inputBuffer = input[0];
    var end = cur + len;
    var remain = 0;
    if (end > BUFFER_LEN) {
      remain = end - BUFFER_LEN;
      end = BUFFER_LEN;
    }
    f32Buffer.subarray(cur, end).set(inputBuffer.subarray(0, len - remain));
    this.frames += len;

    if (end === BUFFER_LEN) {
      var pBuffer = new Float32Array(BUFFER_LEN);
      pBuffer.set(f32Buffer);

      this.port.postMessage({
        message: 'dataOut',
        data: pBuffer,
      });

      if (remain > 0) {
        f32Buffer.subarray(0, remain).set(inputBuffer.slice(len - remain));
      }
    }
  }

  log(text) {
    this.postMessage('log', text);
  }

  postMessage(message, data) {
    this.port.postMessage({ message, data });
  }

  process(inputs, outputs) {
    var input = inputs[0];

    if (this.ready) {
      this.handleInputBuffer(input);
    }
    return this.ret;
  }
}

registerProcessor('recorder-audio-worklet-processor', MyWorkletProcessor);
`;function t8(){return["recorder.worklet.js",t1]}function t4(e,t){let r=document.createElement("iframe");r.style.cssText="position:absolute;left:0;top:-999px;width:1px;height:1px;",t.appendChild(r);let n=r.contentWindow,i=n.document,o="var window,$hook";for(let t in n)!(t in e)&&"eval"!==t&&(o+=",",o+=t);for(let t in e)o+=",",o+=t,o+="=self.",o+=t;let s=i.createElement("script");s.appendChild(i.createTextNode(`function $hook(self,console) {"use strict";
        ${o};return function() {return eval(arguments[0])}}`)),i.body.appendChild(s),this.exec=n.$hook.call(e,e,console)}var t3="__speech_sdk_audioworklet_polyfill_enable__",t6=[];function t7(e){let t={},r=-1;this.parameters.forEach((e,n)=>{let i=t6[++r]||(t6[r]=new Float32Array(this.bufferSize));i.fill(e.value),t[n]=i}),this.processor.realm.exec(`self.sampleRate=sampleRate=${this.context.sampleRate};self.currentTime=currentTime=${this.context.currentTime}`);let n=t5(e.inputBuffer),i=t5(e.outputBuffer);this.instance.process([n],[i],t)}function t5(e){let t=[];for(let r=0;r<e.numberOfChannels;r++)t[r]=e.getChannelData(r);return t}function t9(e){return e.$$processors||(e.$$processors={})}("function"!=typeof AudioWorkletNode||"undefined"==typeof AudioContext||!("audioWorklet"in AudioContext.prototype))&&(self[t3]=!0,(self.AudioContext||self.webkitAudioContext)&&(self.AudioWorkletNode=function(e,t,r){let n=t9(e)[t],i=r&&r.outputChannelCount?r.outputChannelCount[0]:2,o=e.createScriptProcessor(void 0,2,i);if(o.parameters=new Map,n.properties)for(let t=0;t<n.properties.length;t++){let r=n.properties[t],i=e.createGain().gain;i.value=r.defaultValue,o.parameters.set(r.name,i)}let s=new MessageChannel;f=s.port2;let a=new n.Processor(r||{});return f=null,o.port=s.port1,o.processor=n,o.instance=a,o.onaudioprocess=t7,o},Object.defineProperty((self.AudioContext||self.webkitAudioContext).prototype,"audioWorklet",{get(){return this.$$audioWorklet||(this.$$audioWorklet=new self.AudioWorklet(this))}}),self.AudioWorklet=class{addModule(e,t){return fetch(e).then(e=>{if(!e.ok)throw Error(e.status);return e.text()}).then(e=>{let r={sampleRate:this.$$context.sampleRate,currentTime:this.$$context.currentTime,AudioWorkletProcessor(){this.port=f},registerProcessor:(e,t)=>{t9(this.$$context)[e]={realm:n,context:r,Processor:t,properties:t.parameterDescriptors||[]}}};r.self=r;let n=new t4(r,document.documentElement);return n.exec((t&&t.transpile||String)(e)),null})}constructor(e){this.$$context=e}}));var re=tA(tg());function rt(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rr(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rt(o,n,i,s,a,"next",e)}function a(e){rt(o,n,i,s,a,"throw",e)}s(void 0)})}}function rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ri=class{constructor(e){var t,r;rn(this,"sampleRate",void 0),rn(this,"channel",void 0),this.sampleRate=null!==(t=e.sampleRate)&&void 0!==t?t:16e3,this.channel=null!==(r=e.channel)&&void 0!==r?r:1}},ro=class{create(e,t){var r=this;return rr(function*(){e.sampleRate!==t.sampleRate&&(r.src=yield(0,re.create)(e.channel,e.sampleRate,t.sampleRate,{converterType:re.ConverterType.SRC_SINC_FASTEST})),tO.log("Create resample: from: ",e.sampleRate,", to:",t.sampleRate)})()}resample(e){return this.src?this.src.full(e):e}destroy(){var e;null===(e=this.src)||void 0===e||e.destroy(),this.src=void 0}constructor(){rn(this,"src",void 0)}};function rs(e){let t=new Int16Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r]|e[r+1]<<8;return t}function ra(e){let t=new Float32Array(e.length);for(let r=0;r<t.length;r++)t[r]=e[r]/32768;return t}function ru(e){let t=new Int16Array(e.length);for(let r=0;r<t.length;r++)t[r]=32768*e[r];return t}function rl(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rc(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rl(o,n,i,s,a,"next",e)}function a(e){rl(o,n,i,s,a,"throw",e)}s(void 0)})}}function rf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rd=class extends AudioWorkletNode{init(){var e=this;return rc(function*(){yield e.inResampler.create(e.ctx.getTargetConfig(),e.ctx.getContextConfig()),yield e.outResampler.create(e.ctx.getContextConfig(),e.ctx.getTargetConfig())})()}pushBuffer(e){let t;if(e instanceof Float32Array)t=e;else if(e instanceof Int16Array)t=ra(e);else if(e instanceof Uint8Array)t=ra(rs(e));else throw Error("pushBuffer: not Float32Array or Int16Array or Uint8Array");this.port.postMessage({message:"dataIn",data:this.inResampler.resample(t)})}finishBuffer(){this.postMessage("finishBuffer")}resume(){this.postMessage("resume")}pause(){this.postMessage("pause")}quit(){this.inResampler.destroy(),this.outResampler.destroy(),this.postMessage("quit")}clear(){this.postMessage("clear")}postMessage(e,t){this.port.postMessage({message:e,data:t})}constructor(e,t,r){super(e.getAudioContext(),t),rf(this,"complete$",void 0),rf(this,"ctx",void 0),rf(this,"inResampler",void 0),rf(this,"outResampler",void 0),rf(this,"onmessage",void 0),this.ctx=e,this.inResampler=new ro,this.outResampler=new ro,this.complete$=new e2,this.onmessage=r,tO.log("Create TransferWorkletNode: ctx sample rate: ",this.ctx.getContextConfig().sampleRate,", config sample rate: ",this.ctx.getTargetConfig().sampleRate),this.port.onmessage=e=>{var t,r;let{message:n}=e.data;if("dataOut"===n){let t=e.data.data,r=this.outResampler.resample(t);e.data.data=r}else"complete"===n?this.complete$.next():"log"===n&&tO.log(e.data.data);null===(t=(r=this).onmessage)||void 0===t||t.call(r,e)}}},rh=class extends rd{constructor({ctx:e,log:t,onPlaying:r,onAudioData:n,onComplete:i}){super(e,"player-audio-worklet-processor",e=>{var o,s,a,u;let{message:l}=e.data;if(null===(o=t)||void 0===o||o(l),"playing"===l){let t=e.data.data;null===(s=r)||void 0===s||s(t)}else if("dataOut"===l){let t=e.data.data;null===(a=n)||void 0===a||a(t)}else"complete"===l&&(null===(u=i)||void 0===u||u())})}};function rp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rv=class{reset(){this.isFinished=!1,this.size=0}push(e){if(this.capacity<=0){this.data$.next(e);return}let t=0,r=Math.min(e.length-t,this.capacity-this.size);for(;r>0;){for(let n=0;n<r;++n)this.buffer[this.size+n]=e[t+n];t+=r,this.size+=r,this.size>=this.capacity&&this.notify(),r=Math.min(e.length-t,this.capacity-this.size)}}finish(){this.isFinished=!0,this.notify()}notify(){if(0!==this.size)this.data$.next(this.buffer.slice(0,this.size)),this.size=0}constructor(e=0){rp(this,"data$",void 0),rp(this,"isFinished",void 0),rp(this,"buffer",void 0),rp(this,"size",void 0),rp(this,"capacity",void 0),e<=0?this.capacity=0:this.capacity=e,this.buffer=new Float32Array(e),this.size=0,this.isFinished=!1,this.data$=new e6(this.buffer)}};function ry(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rb(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){ry(o,n,i,s,a,"next",e)}function a(e){ry(o,n,i,s,a,"throw",e)}s(void 0)})}}function rA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rg=class{start(){var e=this;return rb(function*(){if(!e.started)e.deviceIds=yield e.getCurDeviceIds(e.kind),e.ondevicechangeSupported?navigator.mediaDevices.addEventListener("devicechange",e.eventListener):e.checkInterval=tc(500).subscribe(e.checkDevice.bind(e)),e.started=!0})()}stop(){if(!!this.started)this.ondevicechangeSupported?navigator.mediaDevices.removeEventListener("devicechange",this.eventListener):(this.checkInterval&&(this.checkInterval.unsubscribe(),this.checkInterval=void 0),this.deviceIds.clear()),this.started=!1}checkDevice(){var e=this;return rb(function*(){let t=yield e.getCurDeviceIds(e.kind);!((e,t)=>e.size===t.size&&[...e].every(e=>t.has(e)))(t,e.deviceIds)&&e.callback(),e.deviceIds=t})()}getCurDeviceIds(e){return rb(function*(){let t=new Set;return(yield navigator.mediaDevices.enumerateDevices()).forEach(r=>{r.kind===e&&t.add(r.deviceId+r.groupId)}),t})()}constructor(e,t="audioinput"){rA(this,"callback",void 0),rA(this,"eventListener",e=>{this.checkDevice()}),rA(this,"started",void 0),rA(this,"kind",void 0),rA(this,"deviceIds",void 0),rA(this,"checkInterval",void 0),rA(this,"ondevicechangeSupported",void 0),this.kind=t,this.deviceIds=new Set,this.ondevicechangeSupported=void 0!==navigator.mediaDevices.ondevicechange,this.callback=e,this.started=!1}};function rm(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rw(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rm(o,n,i,s,a,"next",e)}function a(e){rm(o,n,i,s,a,"throw",e)}s(void 0)})}}function rk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rS=44100,rO=class{constructor(e,t){rk(this,"ctx",void 0),rk(this,"config",void 0),rk(this,"worklets",void 0),rk(this,"defaultAudioSessionType",void 0),rk(this,"sourceStream",void 0),rk(this,"sourceNode",void 0),rk(this,"destinationElement",void 0),rk(this,"destinationNode",void 0),rk(this,"connectedSourceNodes",void 0),rk(this,"connectedDestinationNodes",void 0),this.ctx=e,this.config=t,this.worklets=new Set,this.defaultAudioSessionType="auto",this.connectedSourceNodes=new Set,this.connectedDestinationNodes=new Set}},rx=class{static get Instance(){return this._instance||(this._instance=new this)}createAudioContext(e){var t=this;return rw(function*(){if(++t.ctxCount,tO.log("Context registry create: ",t.ctxCount),!t.holder){var r;let n=new(window.AudioContext||window.webkitAudioContext)({sampleRate:rS,latencyHint:null===(r=e)||void 0===r?void 0:r.latencyHint});t.holder=new rO(n,new ri({sampleRate:rS})),yield t.holder.ctx.resume()}return tO.log("Current context sample rate: ",t.holder.config.sampleRate),t.holder})()}addModule([e,t]){var r=this;return rw(function*(){if(tO.log("Start add module: ",e),r.holder&&!r.holder.worklets.has(e)){r.holder.worklets.add(e);let n=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(n);yield r.holder.ctx.audioWorklet.addModule(i),URL.revokeObjectURL(i),tO.log("Add new module: ",e)}})()}connectSourceNode(e){var t=this;return rw(function*(){if(!!t.holder)yield t.initSourceEnvironment(),t.watcher.start(),!t.holder.connectedSourceNodes.has(e)&&(t.holder.connectedSourceNodes.add(e),t.holder.sourceNode.connect(e),e.connect(t.holder.ctx.destination))})()}disconnectSourceNode(e){if(!!this.holder&&!!this.holder.sourceNode)this.holder.connectedSourceNodes.has(e)&&(e.disconnect(),this.holder.connectedSourceNodes.delete(e)),0===this.holder.connectedSourceNodes.size&&(this.destroySourceEnvironment(),this.watcher.stop())}initSourceEnvironment(){var e=this;return rw(function*(){if(!!e.holder){if(!e.holder.sourceStream&&("audioSession"in navigator&&"type"in navigator.audioSession&&(e.holder.defaultAudioSessionType=navigator.audioSession.type,navigator.audioSession.type="play-and-record",tO.log("Set audio session: play-and-record")),e.holder.sourceStream=yield navigator.mediaDevices.getUserMedia({audio:!0})),!e.holder.sourceNode)for(let r of(e.holder.sourceNode=e.holder.ctx.createMediaStreamSource(e.holder.sourceStream),e.holder.connectedSourceNodes)){var t;r.disconnect(),null===(t=e.holder.sourceNode)||void 0===t||t.connect(r)}}})()}destroySourceEnvironment(e=!0){if(!!this.holder&&!!this.holder.sourceNode){for(let e of this.holder.connectedSourceNodes)e.disconnect();e&&(this.holder.sourceNode.mediaStream.getTracks().forEach(e=>e.stop()),this.holder.sourceStream=void 0,"audioSession"in navigator&&"type"in navigator.audioSession&&(navigator.audioSession.type=this.holder.defaultAudioSessionType,tO.log("Set audio session: ",this.holder.defaultAudioSessionType))),this.holder.sourceNode.disconnect(),this.holder.sourceNode=void 0}}connectDestinationNode(e){if(!!this.holder)this.initDestinationEnvironment(),!this.holder.connectedDestinationNodes.has(e)&&(e.connect(this.holder.destinationNode),this.holder.connectedDestinationNodes.add(e))}disconnectDestinationNode(e){if(!!this.holder)this.holder.connectedDestinationNodes.has(e)&&(e.disconnect(),this.holder.connectedDestinationNodes.delete(e)),0===this.holder.connectedDestinationNodes.size&&this.destroyDestinationEnvironment()}initDestinationEnvironment(){if(!!this.holder){if(!this.holder.destinationNode)for(let e of(this.holder.destinationNode=this.holder.ctx.createMediaStreamDestination(),this.holder.connectedDestinationNodes))e.connect(this.holder.destinationNode);!this.holder.destinationElement&&(this.holder.destinationElement=new Audio,this.holder.destinationElement.srcObject=this.holder.destinationNode.stream,this.holder.destinationElement.play())}}destroyDestinationEnvironment(){if(!!this.holder&&!!this.holder.destinationNode){for(let e of this.holder.connectedDestinationNodes)e.disconnect();this.holder.destinationNode.stream.getTracks().forEach(e=>e.stop()),this.holder.destinationNode.disconnect(),this.holder.destinationNode=void 0,this.holder.destinationElement&&(this.holder.destinationElement.pause(),this.holder.destinationElement.currentTime=0,this.holder.destinationElement=void 0)}}close(){var e=this;return rw(function*(){if(e.ctxCount>0&&--e.ctxCount,tO.log("Context registry close: ",e.ctxCount),e.ctxCount<=0&&e.holder){e.destroySourceEnvironment(),e.destroyDestinationEnvironment();try{yield e.holder.ctx.suspend(),yield e.holder.ctx.close()}catch(e){tO.log("Close context error: ",e)}e.holder=void 0,tO.log("Context do close")}})()}onDeviceChange(){var e=this;return rw(function*(){if(tO.log("Device changed."),!!e.holder)e.destroySourceEnvironment(!1),yield e.initSourceEnvironment()})()}constructor(){rk(this,"holder",void 0),rk(this,"ctxCount",void 0),rk(this,"watcher",void 0),this.ctxCount=0,this.watcher=new rg(this.onDeviceChange.bind(this))}};rk(rx,"_instance",void 0);var rT=class{static create(e){return rw(function*(){let t=yield rx.Instance.createAudioContext(e);return new rT(t,new ri({sampleRate:e&&e.sampleRate?e.sampleRate:rS}))})()}getContextConfig(){return this.contextConfig}getTargetConfig(){return this.targetConfig}getAudioContext(){return this.ctx}addModule(e){return rw(function*(){yield rx.Instance.addModule(e)})()}connectSourceNode(e){return rw(function*(){if(!!e)yield rx.Instance.connectSourceNode(e)})()}disconnectSourceNode(e){if(!!e)rx.Instance.disconnectSourceNode(e)}connectDestinationNode(e){if(!!e)rx.Instance.connectDestinationNode(e)}disconnectDestinationNode(e){if(!!e)rx.Instance.disconnectDestinationNode(e)}resume(){this.setState("running")}pause(){this.setState("suspended")}close(){var e=this;return rw(function*(){yield rx.Instance.close(),e.setState("closed")})()}setState(e){if(this.state!==e)this.state=e,this.onstatechange&&this.onstatechange()}constructor(e,t){rk(this,"ctx",void 0),rk(this,"contextConfig",void 0),rk(this,"targetConfig",void 0),rk(this,"onstatechange",void 0),rk(this,"state",void 0),this.ctx=e.ctx,this.state=e.ctx.state,this.contextConfig=e.config,this.targetConfig=t,tO.log("Create AudioContextWrapper: ctx: ",this.contextConfig.sampleRate,", target: ",this.targetConfig.sampleRate)}};function rP(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rE(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rP(o,n,i,s,a,"next",e)}function a(e){rP(o,n,i,s,a,"throw",e)}s(void 0)})}}function rC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rj=class{init(){var e=this;return rE(function*(){if(e.ctx)return;let t=yield rT.create({sampleRate:e.sampleRate});t.onstatechange=()=>{e.ctxState$.next(t.state),"running"!==t.state&&e.playing$.next(!1)},yield t.addModule(rz()),e.node=new rh({ctx:t,log:e.log.bind(e),onPlaying:t=>{e.playing$.next(t)},onAudioData:t=>{var r;null===(r=e.audioDataBuffer)||void 0===r||r.push(t)},onComplete:()=>{var t;null===(t=e.audioDataBuffer)||void 0===t||t.finish(),e.complete$.next()}}),yield e.node.init(),t.connectDestinationNode(e.node),tO.log("PlayerWorkletNode connect to transferNode"),e.ctx=t})()}pushBuffer(e){var t;null===(t=this.node)||void 0===t||t.pushBuffer(e)}start(e){var t,r,n,i;let{clear:o=!0}=null!=e?e:{};o&&(null===(t=this.node)||void 0===t||t.clear()),null===(r=this.audioDataBuffer)||void 0===r||r.reset(),null===(n=this.ctx)||void 0===n||n.resume(),null===(i=this.node)||void 0===i||i.resume()}pause(){var e,t;null===(e=this.node)||void 0===e||e.pause(),null===(t=this.ctx)||void 0===t||t.pause()}clear(){var e;null===(e=this.node)||void 0===e||e.clear(),this.finishBuffer()}finishBuffer(){var e;null===(e=this.node)||void 0===e||e.finishBuffer()}destroy(){var e=this;return rE(function*(){var t,r,n;e.pause(),null===(t=e.node)||void 0===t||t.quit(),null===(r=e.ctx)||void 0===r||r.disconnectDestinationNode(e.node),yield null===(n=e.ctx)||void 0===n?void 0:n.close(),e.node=void 0,e.ctx=void 0})()}constructor({sampleRate:e,log:t}){rC(this,"ctx",void 0),rC(this,"ctxState$",void 0),rC(this,"playing$",void 0),rC(this,"complete$",void 0),rC(this,"audioDataBuffer",void 0),rC(this,"sampleRate",void 0),rC(this,"node",void 0),rC(this,"log",void 0),rC(this,"onPlaying",e=>{let t=this.playing$.pipe(eD(t=>e(t))).subscribe();return()=>t.unsubscribe()}),rC(this,"onAudioData",(e,t=0)=>{this.audioDataBuffer=new rv(t);let r=this.audioDataBuffer.data$.pipe(eD(t=>e(t))).subscribe();return()=>r.unsubscribe()}),rC(this,"onComplete",e=>{let t=this.complete$.pipe(eD(()=>e())).subscribe();return()=>t.unsubscribe()}),this.sampleRate=e,this.playing$=new e6(!1),this.complete$=new e2,this.ctxState$=new e6(null),this.log=e=>{var r;null===(r=t)||void 0===r||r(e)}}},rB=class extends rd{constructor({ctx:e,log:t,onBuffer:r}){super(e,"recorder-audio-worklet-processor",e=>{var n,i;null===(n=t)||void 0===n||n(e);let{message:o,data:s}=e.data;"dataOut"===o&&(null===(i=r)||void 0===i||i({buffer:ru(s),f32Buffer:s}))})}};function rR(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function r_(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rR(o,n,i,s,a,"next",e)}function a(e){rR(o,n,i,s,a,"throw",e)}s(void 0)})}}function rI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rN=class{init(){var e=this;return r_(function*(){if(e.ctx)return;let t=yield rT.create({sampleRate:e.sampleRate});yield t.addModule(rD()),e.ctx=t,e.node=new rB({ctx:t,onBuffer:t=>{var r,n;null===(r=(n=e).bufferCb)||void 0===r||r.call(n,t)}}),yield e.node.init()})()}onBuffer(e){return this.bufferCb=t=>{e(t)},()=>this.bufferCb=void 0}start(e){var t=this;return r_(function*(){if(!t.ctx||!t.node)return;let{clear:r=!0}=null!=e?e:{};r&&t.clear(),t.node.resume(),t.ctx.resume(),yield t.ctx.connectSourceNode(t.node)})()}pause(){var e,t;null===(e=this.node)||void 0===e||e.pause(),null===(t=this.ctx)||void 0===t||t.pause()}clear(){var e;null===(e=this.node)||void 0===e||e.clear()}destroy(){var e=this;return r_(function*(){var t,r,n;e.pause(),null===(t=e.node)||void 0===t||t.quit(),null===(r=e.ctx)||void 0===r||r.disconnectSourceNode(e.node),e.node=void 0,yield null===(n=e.ctx)||void 0===n?void 0:n.close(),e.ctx=void 0,e.bufferCb=void 0})()}constructor({sampleRate:e}){rI(this,"ctx",void 0),rI(this,"node",void 0),rI(this,"sampleRate",void 0),rI(this,"bufferCb",void 0),this.sampleRate=e}},rz=t2,rD=t8;function rW(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rL(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rW(o,n,i,s,a,"next",e)}function a(e){rW(o,n,i,s,a,"throw",e)}s(void 0)})}}function rF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){rF(e,t,r[t])})}return e}var rU=class extends tX{createBidirectionalTTSStream(e){var t=this;return rL(function*(){t.isBidirectionalTTS?yield t.startSession(e):t.isVoiceGenie&&(yield t.startSession({request_type:5,tts:e}));let r=[s.TTSSentenceStart,s.TTSResponse,s.TTSSentenceEnd,s.Buffer,s.TTSEnded,s.SessionCanceled],n=[s.TTSEnded,s.SessionCanceled,s.TaskCanceled,s.TaskFinished],i=t.wsMessageSuccess$.pipe(e3(e=>r.includes(e.data.event)||!!e.data.data),e9(t.wsMessageError$,t.wsClose$,t.wsError$),te(e=>e.type===a.ServerSuccess&&!n.includes(e.data.event),!0),eD(e=>{t.isVoiceGenie&&e.type===a.ServerSuccess&&e.data.event===s.TTSEnded&&t.tryFinishSession()}),e8());if(t.eventBus.eventNames().includes(l.TTS)){let e=i.pipe(eD(e=>t.eventBus.emit(l.TTS,e))).subscribe();t.destroyPool.push(()=>e.unsubscribe())}return{TTSResult$:i,sender:e=>{t.send({payload:JSON.stringify({text:e})})},endSend:()=>{t.send({event:o.EndTTS})}}})()}constructor(e){super(rM({},e)),rF(this,"isBidirectionalTTS",void 0),rF(this,"isVoiceGenie",void 0),this.isBidirectionalTTS="BidirectionalTTS"===e.namespace,this.isVoiceGenie="VoiceGenie"===e.namespace}},rq=e=>new Promise(t=>setTimeout(t,e)),rG=()=>!!window[t3];function rZ(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function rV(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){rZ(o,n,i,s,a,"next",e)}function a(e){rZ(o,n,i,s,a,"throw",e)}s(void 0)})}}function rY(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){rY(e,t,r[t])})}return e}function rQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rX(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rQ(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var rH=class{get audioworkletPolyfillEnable(){return rG()}constructor(e,t,r){rY(this,"playerAudioClient",void 0),rY(this,"ttsSpeechClient",void 0),rY(this,"cancelingSession",void 0),rY(this,"onCtxState",e=>{let t=this.playerAudioClient.ctxState$.pipe(eD(t=>e(t))).subscribe();return()=>t.unsubscribe()}),rY(this,"onPlaying",e=>{let t=this.playerAudioClient.playing$.pipe(eD(t=>e(t))).subscribe();return()=>t.unsubscribe()});var n,i=this;rY(this,"start",function(){var e=rV(function*(e){if(i.audioworkletPolyfillEnable)return{sender:e=>void 0,endSend:()=>void 0};yield i.playerAudioClient.init(),i.cancelingSession=!0,yield Promise.all([i.playerAudioClient.start({clear:!1}),Promise.race([rV(function*(){yield i.ttsSpeechClient.tryCancelSession(),yield i.ttsSpeechClient.tryFinishSession()})(),rq(4e3)])]),i.cancelingSession=!1;let{TTSResult$:t,sender:r,endSend:n}=yield i.ttsSpeechClient.createBidirectionalTTSStream(e);return t.pipe(e3(e=>i.ttsSpeechClient.hasBuffer(e)),ep(e=>e.data.data),eD(e=>{!i.cancelingSession&&e&&i.playerAudioClient.pushBuffer(e)})).subscribe({complete:()=>{i.playerAudioClient.finishBuffer()},error:()=>{i.playerAudioClient.finishBuffer()}}),{sender:r,endSend:n}});return function(t){return e.apply(this,arguments)}}());var o=this;rY(this,"pause",rV(function*(){yield o.playerAudioClient.destroy()})),rY(this,"destroy",()=>{this.playerAudioClient.destroy(),this.ttsSpeechClient.destroy()}),this.ttsSpeechClient=new rU(rX(rJ({},e),{log:null===(n=r)||void 0===n?void 0:n.log})),this.playerAudioClient=new rj(rX(rJ({},t),{log:e=>{var t,n;let i={event:`player_${e}`};null===(n=r)||void 0===n||null===(t=n.log)||void 0===t||t.call(n,{message:tq(c.Info,i),type:c.Info,data:i})}})),this.cancelingSession=!1}}},567664:function(e){e.exports=t;function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o){if(o=!1,e)s(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}})}},42062:function(e,t){var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i=null,o=[],s,a=0,u=0;t<r;){var l=e[t++];switch(u){case 0:o[a++]=n[l>>2],s=(3&l)<<4,u=1;break;case 1:o[a++]=n[s|l>>4],s=(15&l)<<2,u=2;break;case 2:o[a++]=n[s|l>>6],o[a++]=n[63&l],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return(u&&(o[a++]=n[s],o[a++]=61,1===u&&(o[a++]=61)),i)?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n=r,o,a=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error(s);switch(a){case 0:o=l,a=1;break;case 1:t[r++]=o<<2|(48&l)>>4,o=l,a=2;break;case 2:t[r++]=(15&o)<<4|(60&l)>>2,o=l,a=3;break;case 3:t[r++]=(3&o)<<6|l,a=0}}if(1===a)throw Error(s);return r-n},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},981282:function(e){function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n}return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},85864:function(e){function t(e){return"undefined"!=typeof Float32Array?!function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():!function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:0x80000000,r,n);else if(isNaN(t))e(0x7fc00000,r,n);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:1/0*i:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?!function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():!function(){function t(e,t,r,n,i,o){var s,a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:0x80000000,i,o+r);else if(isNaN(n))e(0,i,o+t),e(0x7ff80000,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|0x7ff00000)>>>0,i,o+r);else if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/0x100000000)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(0x10000000000000*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=(s>>31)*2+1,u=s>>>20&2047,l=0x100000000*(1048575&s)+o;return 2047===u?l?NaN:1/0*a:0===u?5e-324*a*l:a*Math.pow(2,u-1075)*(l+0x10000000000000)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},128275:function(module){module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},273340:function(e){e.exports=t;function t(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=(7|s)+1),a}}},498614:function(e,t){var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(s+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},489250:function(e,t,r){e.exports=r(336184)},336184:function(e,t,r){var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(808205),n.BufferWriter=r(339069),n.Reader=r(756404),n.BufferReader=r(288212),n.util=r(129040),n.rpc=r(442721),n.roots=r(733248),n.configure=i,i()},756404:function(e,t,r){e.exports=u;var n,i=r(129040),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function f(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=c(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=0xffffffff;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},288212:function(e,t,r){e.exports=o;var n=r(756404);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(129040);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},733248:function(e){e.exports={}},442721:function(e,t,r){t.Service=r(684746)},684746:function(e,t,r){e.exports=i;var n=r(129040);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r){a.end(!0);return}if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){s(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(!e&&this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},995872:function(e,t,r){e.exports=i;var n=r(129040);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/0x100000000>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>0xffffffff&&(r=0,++n>0xffffffff&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return!t&&(r=r+1>>>0),-(t+0x100000000*r)}return this.lo+0x100000000*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},129040:function(e,t,r){var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(void 0===e[n[i]]||!r)&&(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(567664),n.base64=r(42062),n.EventEmitter=r(981282),n.float=r(85864),n.inquire=r(128275),n.utf8=r(498614),n.pool=r(273340),n.LongBits=r(995872),n.isNode=!!(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},808205:function(e,t,r){e.exports=f;var n,i=r(129040),o=i.LongBits,s=i.base64,a=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function h(e,t,r){t[r]=255&e}function p(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function v(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function b(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=d(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},v.prototype=Object.create(u.prototype),v.prototype.fn=p,f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new v((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(b,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(b,4,t.lo)._push(b,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var A=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=f.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(A,t,e)},f.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=d(),n._configure()}},339069:function(e,t,r){e.exports=o;var n=r(808205);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(129040);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()}}]);
//# sourceMappingURL=https://sourcemap-redirect.coze.cn/obj/coze-sourcemap/ol-sourcemap/bot/1.0.2.2255/67441.ec4c1787.js.map